!function(){(()=>{window.PP_MAIN_LISTING_ENDPOINT_BASE=localStorage.getItem("_DEV_PP_MAIN_LISTING_ENDPOINT_BASE")||"https://api.preproduct.io/api/preproducts/",window.PP_STOREFRONT_API_VERSION="2025-01",window.PP_GET_LISTINGS_ENDPOINT=localStorage.getItem("_DEV_PP_GET_LISTINGS_ENDPOINT")||"https://api.preproduct.io/api/v2/listings",window.PP_CHECKOUTS_ENDPOINT=localStorage.getItem("_DEV_PP_CHECKOUTS_ENDPOINT")||"https://api.preproduct.io/api/v2/checkouts";let t=window.Shopify?.routes?.root||"/";window.PP_NATIVE_CART_ADD_ITEM_ENDPOINT=`${t}cart/add.js`,window.PP_NATIVE_CART_CHANGE_ITEM_ENDPOINT=`${t}cart/change.js`,window.PP_NATIVE_CART_GET_ITEMS_ENDPOINT=`${t}cart.js`,window.PP_SHOPIFY_NATIVE_CART_LOCATION=`${t}cart`,window.PP_BIGCOMMERCE_NATIVE_CART_LOCATION="/cart.php"})();var t=["id","name","discount","sales_actual","lead_time","shopify_product_id","price","created_at","discounted_price","shop_id","updated_at","shop_name","test_status","currency","different_lead_time","specific_variants","max_variant_sales","current_variant_sales","success_url","payment_email_sent","deposit_price","paid_for","charge_later_selling_plan_id","deposit_selling_plan_id","customer_max_limit","charge_upfront_selling_plan_id","deposit_percentage","shopify_domain","primary_colour","secondary_colour","custom_front_end","secondary_custom_front_end","custom_font","frontend_charge_redirect","logo","new_cart","header","brand_colours","storefront_token","variant_id_img","variant_id_name","variant_id_price","variant_id_selected_options","locale","skip_onpage_cart"],e=["cart-notification","cart-drawer","cart-icon-bubble","cart-items","cart-footer"];function i(){let t=function(){let t=document.querySelector("header");return t?t.querySelector('a[href="/cart"]'):null}();t&&(t.setAttribute("href","#"),t.click(),setTimeout((()=>{t.setAttribute("href","/cart")}),100))}class n{static init=!1;static transactionHandedOff=!1;static requestedVariantIds=[];static requestedProductIds=[];static companionItems=[];static async setup(t,e=null,i=null){if(this.clearWatchers(),this.apiData={},this.cartTag=null,this.nativeCartCTA=null,this.buttonManager=null,this._shouldRequestFromAPI)try{let n=this.items.map((t=>t.id)),r=Array.from(new Set([...n,...e])),a=Array.from(new Set([...i])),o=`shop=${t}&includes=shop&variant_ids=${r.join(",")}&product_ids=${a.join(",")}`,p=await fetch(`${PP_GET_LISTINGS_ENDPOINT}.json?${o}`);this.apiData=await p.json(),this.storedShopData=this.apiData.shop}catch(t){this.apiData={}}else this.apiData={shop:this.storedShopData,preproducts:[]};return this.usesCheckoutAPI&&!this.canCheckoutViaAPI&&(this.apiData.shop.frontend_charge_redirect="cart",console.log("PreProduct: No storefront token found. Using cart redirect instead")),this.init=!0,this._syncsFromNativeCart&&await this.syncFromNativeCart(),this.dispatchCartSessionEvent(null,"ppCartSessionLaunched"),this.apiData}static async loadMore(t=[],e=[]){t=t.map((t=>String(t))),e=e.map((t=>String(t)));let i=this.apiData.preproducts||[],n=[...new Set(t||[])].filter((t=>!i.some((e=>e.current_variant_sales.hasOwnProperty(t)||this.requestedVariantIds.includes(t))))),r=[...new Set(e||[])].filter((t=>!i.some((e=>String(e.platform_product_id)===t||this.requestedProductIds.includes(t))))),a=i.filter((i=>{let n=e.includes(String(i.platform_product_id)),r=t.find((t=>Object.keys(i.current_variant_sales).includes(String(t))));return n||r}));if(0===n.length&&0===r.length)return{shop:this.apiData.shop,preproducts:a};try{let t=`shop=${this.apiData.shop.domain}&includes=shop`;n.length&&(t+=`&variant_ids=${n.join(",")}`),r.length&&(t+=`&product_ids=${r.join(",")}`),this.requestedVariantIds=[...this.requestedVariantIds,...n],this.requestedProductIds=[...this.requestedProductIds,...r];let e=await fetch(`${PP_GET_LISTINGS_ENDPOINT}.json?${t}`),o=await e.json(),p=new Set(o.preproducts.map((t=>t.id)));return this.apiData.preproducts=[...i.filter((t=>!p.has(t.id))),...o.preproducts],{shop:o.shop,preproducts:[...a,...o.preproducts]}}catch(t){return console.error("Error:",t),{}}}static get items(){try{let t=localStorage.getItem("PPcartSessionItems")||"[]";return JSON.parse(t)}catch(t){return[]}}static get presentItems(){return this.items.filter((t=>t.quantity>0))}static get itemFurthestAwayFromShipping(){try{let t=this.items;if(0===t.length)return null;try{return t.reduce(((t,e)=>new Date(t.shipDate)>new Date(e.shipDate)?t:e))||t[0]}catch{return t[0]}}catch(t){return items[0]}}static get itemsNotAddedToNativeCart(){return this.items.filter((t=>!t.addedToNativeCart))}static async push({id:t=null,quantity:e=1,sellingPlan:i=null,properties:n={},src:r=null,name:a="",unitPrice:o=null,unitDeposit:p=0,discount:s=0,maxLimit:d=99999,addedToNativeCart:l=!1,shipDate:c=null,shippingStatement:m=null,isQuickBuy:u=!1}={}){let h=this.items,g=h.find((e=>e.id==t)),y={id:t,quantity:e,sellingPlan:i,properties:n,src:r,name:a,unitPrice:o,unitDeposit:p,discount:s,maxLimit:d,addedToNativeCart:l,shipDate:c,shippingStatement:m};if(g?g.quantity+=e:h.push({id:t,quantity:e,sellingPlan:i,properties:n,src:r,name:a,unitPrice:o,unitDeposit:p,discount:s,maxLimit:d,addedToNativeCart:l,shipDate:c,shippingStatement:m}),!this.isValid(g||y,!0))return!1;if(this.save(h),this.dispatchCartSessionEvent(t,"ppCartSessionTransactionReady").detail.handled)return this.transactionHandedOff=!0,h[t];if(!this.dispatchCartSessionEvent(t,"ppCartSessionTransactionStart").detail.handled&&this.usesNativeCart){await g?this.changeExistingNativeCart(g,u):this.addToNativeCart(y,u);let e=h.find((e=>e.id==t));e&&(e.addedToNativeCart=!0)}return this.save(h),this.dispatchCartSessionEvent(t,"ppCartSessionTransactionFinish"),h[t]}static async forcePush({id:t=null,quantity:e=1,sellingPlan:i=null,properties:n={},src:r=null,name:a="",unitPrice:o=null,unitDeposit:p=0,discount:s=0,maxLimit:d=99999,addedToNativeCart:l=!1,shipDate:c=null,shippingStatement:m=null}={},u=!0){let h={id:t,quantity:e,sellingPlan:i,properties:n,src:r,name:a,unitPrice:o,unitDeposit:p,discount:s,maxLimit:d,addedToNativeCart:l,shipDate:c,shippingStatement:m},g=this.items.filter((t=>t.id!=h.id)),y=this.items.find((e=>e.id==t));if(this.save([h,...g]),this.dispatchCartSessionEvent(h.id,"ppCartSessionTransactionReady").detail.handled)return this.transactionHandedOff=!0,h;if(u){if(this.dispatchCartSessionEvent(h.id,"ppCartSessionTransactionStart").detail.handled)return h}this.usesNativeCart&&(await y?this.changeExistingNativeCart(h):this.addToNativeCart(h)),u&&this.dispatchCartSessionEvent(h.id,"ppCartSessionTransactionFinish")}static save(t){t=(t||[]).filter((t=>t.quantity>=0));try{localStorage.setItem("PPcartSessionItems",JSON.stringify(t))}catch(t){return console.log(t),!1}}static clear(){try{localStorage.removeItem("PPcartSessionItems"),this.requestedVariantIds=[],this.requestedProductIds=[]}catch(t){return console.log(t),!1}}static increment(t,e=1){let i=this.items.find((e=>e.id==t));if(!i)return!1;let n=i;return n.quantity+=e,!!this.isValid(n)&&(document.querySelectorAll(`#pp-cart-session-item-tally-${t}`).forEach((t=>{t.value=n.quantity})),i.quantity=e,this.push(i),!0)}static decrement(t,e=1){return this.increment(t,-1*e)}static isValid(t,e=!1){return null===t.id?(console.error("PPcartSession.push() requires an id"),!1):null==t.unitPrice?(console.error("PPcartSession.push() requires a unitPrice"),!1):t.quantity>t.maxLimit?(e&&window.alert(`Sorry, you can only order ${t.maxLimit} of this item`),console.error(`Sorry, you can only order ${t.maxLimit} of this item`),!1):!(t.quantity<0)&&("string"!=typeof t.sellingPlan||(console.error("sellingPlan should be a REST ID int"),!1))}static selectItems(t={}){return t.id?[t]:this.items}static dispatchCartSessionEvent(t=null,e){let i=new CustomEvent(e,{detail:{itemAddition:this.items.find((e=>e.id==t))||null,items:this.items,handled:!1}});return window.dispatchEvent(i),i}static totalPriceAsCoinage(t={},e=null){return this.selectItems(t).filter((t=>!e||t.id!=e)).reduce(((t,e)=>t+e.unitPrice*(1-(e.discount||0)/100)*e.quantity),0)}static totalPriceAsString(t={}){let e=this.apiData.preproducts[0]?.currency||"$",i=this.totalPriceAsCoinage(t);try{"string"==typeof PPcurrencySymbol()&&(e=PPcurrencySymbol()),"number"==typeof PPlocaliseCoinage(i)&&(i=PPlocaliseCoinage(i))}catch(t){}return`${e}${((t,e=1)=>(t*e*.01).toFixed(2))(i)}`}static totalDepositAsCoinage(t={}){return this.selectItems(t).reduce(((t,e)=>t+e.unitDeposit*e.quantity),0)}static asAJAXLineItems(t={}){return this.selectItems(t).filter((t=>t.quantity>0)).map((t=>({id:t.id,quantity:t.quantity,selling_plan:t.sellingPlan,properties:t.properties})))}static asGraplLineItems(t={}){let e=this.selectItems(t).filter((t=>t.quantity>0)),i="";return e.forEach((t=>{let e=t.sellingPlan?`sellingPlanId: "gid://shopify/SellingPlan/${t.sellingPlan}"`:"";i+=`\n                {\n                    merchandiseId: "gid://shopify/ProductVariant/${t.id}",\n                    quantity: ${t.quantity},\n                    attributes: ${this._graphqlLineItemProperties(t.properties)},\n                    ${e}\n                },\n            `})),i=i.replace(/,\s*$/,""),i}static asHTML(t={},e=null){let i=this.selectItems(t).filter((t=>t.quantity>0&&(!e||t.id!=e)));if(0==i.length)return"";let n=(t,e)=>!t||t.length<=e?t:t.slice(0,e)+"...",r="";return i.forEach((t=>{let e=this.apiData.preproducts.find((e=>e.current_variant_sales.hasOwnProperty(t.id)))?.name||t.name;r+=`\n                <div class="pp-cart-line-item pp-select-row"> \n                    <div class="pp-cart-line-item__image-frame"> \n                        <img id="pp-cart-line-item-image-1" class="pp-cart-line-item__image pp-cart-easy-ease" onload="this.style.opacity=1" loading="lazy" onerror="this.src='https://cdn.shopify.com/s/files/1/0311/5912/4099/products/white_1024x1024@2x.jpg?height=100'" src="${t.src}" style="opacity: 1; border-radius: var(--pp-native-cart-cta-radius, 5px); ">\n                    </div> \n                    <div class="pp-cart-line-item__names"> \n                        <div class="pp-cart-line-item__product-name pp-dark-grey pp-safe" title="${e}">\n                            ${n(e,40)}\n                        </div> \n                        <div class="pp-safe" style="margin: -2px 0px 0px 0px !important;"> \n                            <select class="pp-cart-line-item__variant-name pp-mid-grey pp-select-list pp-safe" form="pp-variant-info" type="select" autocomplete="on" placeholder="Variant Name" style="font-size: 11px !important;" onmouseover="this.style.cssText = 'opacity: 0.5 !important';" onmouseout="this.style.cssText = 'opacity:1 !important';">\n                                <option value="${t.id}" disabled selected>\n                                    ${n(t.name,30)}\n                                </option>\n                            </select> \n                        </div> \n                    </div> \n                    <div class="pp-cart-line-item__quantity"> \n                        <div class="pp-cart-line-item__quantity"> \n                            <small class="pp-cart-line-item__quantity-x pp-dark-grey pp-safe"> x </small> \n                            <input type="number" value="${t.quantity}" disabled min="0" max="${t.maxLimit}" id="pp-cart-session-item-tally-${t.id}" inputmode="decimal" class="pp-cart-line-item__quantity-tally pp-dark-grey pp-safe wsl">\n                        </div> \n                    </div> \n                    <div class="pp-cart-line-item__quantity-adjust"> \n                        <button class="pp-cart-line-item__number-button pp-mid-grey pp-safe wsl" type="button" \n                            onclick="PPcartSession.increment(${t.id})" \n                            onmouseover="this.style.cssText = 'opacity: 0.5 !important';" onmouseout="this.style.cssText = 'opacity:1 !important';" style="background: none;"\n                        > \n                            + \n                        </button> \n                        <button class="pp-cart-line-item__number-button pp-mid-grey pp-safe wsl" type="button" \n                            onclick="PPcartSession.decrement(${t.id})" \n                            onmouseover="this.style.cssText = 'opacity: 0.5 !important';" onmouseout="this.style.cssText = 'opacity:1 !important';" style="opacity: 1 !important;"\n                        >\n                            -\n                        </button> \n                    </div> \n                </div>\n            `})),r}static get usesNativeCart(){return"cart"==this.apiData?.shop?.frontend_charge_redirect||"cart_without_redirect"==this.apiData?.shop?.frontend_charge_redirect}static get usesCheckoutAPI(){return"checkout"==this.apiData?.shop?.frontend_charge_redirect||"isolated_preorder_cart"==this.apiData?.shop?.frontend_charge_redirect}static get canUseNativeCart(){return!this._isBigCommerce}static get canCheckoutViaAPI(){return!(!this.apiData.shop.storefront_token&&!this._isBigCommerce)}static async submitToPlatform(t={}){this.canCheckoutViaAPI&&this.usesCheckoutAPI?this.checkoutViaAPI(t):this.addToNativeCart(t)}static async addToNativeCart(t={},i=!1){let n={items:this.asAJAXLineItems(t),note:window.PPnote?.()||""};"cart_without_redirect"===this.apiData?.shop?.frontend_charge_redirect&&(n.sections=e.join(","));let r=await fetch(PP_NATIVE_CART_ADD_ITEM_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});this.dispatchCartSessionEvent(null,"ppCartSessionConverted"),(i||"cart_without_redirect"==this.apiData?.shop?.frontend_charge_redirect)&&this.updateCurrentPage(r,!i)}static async changeExistingNativeCart(t={},i=!1){const n=this.selectItems(t).map((async t=>{let n={id:String(t.id),quantity:t.quantity,selling_plan:t.sellingPlan};"cart_without_redirect"===this.apiData?.shop?.frontend_charge_redirect&&(n.sections=e.join(","));try{const e=await fetch(PP_NATIVE_CART_CHANGE_ITEM_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!e.ok)return void console.error("PreProduct: Error pushing session item to native cart:",t.id);(i||"cart_without_redirect"==this.apiData?.shop?.frontend_charge_redirect)&&this.updateCurrentPage(e,!i)}catch(t){console.error("PreProduct: Error pushing session cart to native cart:",t)}}));await Promise.all(n)}static async updateCurrentPage(t,e=!1){const n=await t.json();n.sections&&function(t){if(!t)return!1;let e=!1;return Object.entries(t).forEach((([t,i])=>{const n=document.getElementById(`shopify-section-${t}`)||document.getElementById(`${t}`);if(n&&i)return n.innerHTML=i,void(e=!0);if("cart-drawer"===t&&i){const t=document.querySelector("cart-drawer");if(t){const n=document.createElement("div");n.innerHTML=i;const r=n.querySelector("cart-drawer");r&&(t.replaceWith(r),e=!0)}}})),e}(n.sections)&&e&&i()}static async checkoutViaAPI(t={}){let e=this._isBigCommerce?await this._checkoutViaUniAPI(t):await this._checkoutViaShopifyAPI(t);setTimeout((()=>{window.location.href=e,this.dispatchCartSessionEvent(null,"ppCartSessionConverted")}))}static async checkoutViaAPIAndClear(t={}){await this.checkoutViaAPI(t),setTimeout((()=>{this.clear()}),0)}static async syncFromNativeCart(){await fetch(PP_NATIVE_CART_GET_ITEMS_ENDPOINT,{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{let e=t.items,i=this.items,n=[];i.forEach((t=>{let i=e.find((e=>e.id==t.id));if(!i)return n.push(t.id);t.quantity=i.quantity})),i=i.filter((t=>!n.includes(t.id))),this.save(i)})).catch((t=>{console.log(t)}))}static redirectToCartURL(){if(""==this.masterElement?.dataset?.cartRedirectUrl)return window.location.reload();window.location.href=this._cartRedirectURL}static clearWatchers(){window.PPcartSession?.buttonManager?.watcher?.kill()}static set storedShopData(t){try{const e=JSON.stringify(t);localStorage.setItem("PPcartSessionShopData",e)}catch(t){console.error("Failed to set shop data in local storage:",t)}}static get storedShopData(){try{let t=localStorage.getItem("PPcartSessionShopData")||"{}";return JSON.parse(t)}catch(t){return{}}}static get masterElement(){return this.ppDiv||this.primaryNativeBtn}static get ppDiv(){return document.querySelector("#preproduct-pledge")}static get primaryNativeBtn(){return this.nativeButtons.find((t=>!t.hasAttribute("data-quick-pre-order")))}static get nativeButtons(){return Array.from(document.querySelectorAll("[data-native-pre-order-btn]"))}static get _shouldRequestFromAPI(){if(!this.storedShopData.name)return!0;let t=document.querySelector("[data-native-pre-order-btn]");return!!(document.querySelector("#preproduct-pledge")||t||this.items.length>0)}static get _syncsFromNativeCart(){return this.usesNativeCart&&this.items.length>0}static _graphqlLineItemProperties(t={}){let e="";for(const[i,n]of Object.entries(t))n&&(e+=`{\n              key: "${i}",\n              value: "${n}"\n            },`);return e=e.replace(/,$/,""),`[ ${e} ]`}static get _cartRedirectURL(){return this.masterElement?.dataset?.cartRedirectURL||window.PP_NATIVE_CART_LOCATION||this._platformCartURL}static get _platformCartURL(){return this._isBigCommerce?PP_BIGCOMMERCE_NATIVE_CART_LOCATION:PP_SHOPIFY_NATIVE_CART_LOCATION}static _createCartMutation(t,e,i=""){return`\n          mutation ${i} {\n            cartCreate(\n              input: {\n                  lines: [ ${t} ],\n                  note: "${e}"\n                }\n            ) {\n                cart {\n                  id\n                  checkoutUrl\n                }\n                userErrors {\n                  field\n                  message\n                }\n              }\n            }\n        `}static localisedVerbage(t){let e=(window.Shopify?.locale||"").split("-")[0]||this._userLocale,i=this.apiData.shop.secondary_custom_front_end||{};return i[e]?.[t]||this.apiData.shop.custom_front_end?.[t]}static get _isBigCommerce(){return this.apiData.shop.domain.includes("bigcommerce")}static async _checkoutViaShopifyAPI(t={}){let e=this.apiData.shop,i=`https://${e.domain}/api/${PP_STOREFRONT_API_VERSION}/graphql.json`;return fetch(i,{async:!0,crossDomain:!0,method:"POST",headers:{"X-Shopify-Storefront-Access-Token":e.storefront_token,"Content-Type":"application/graphql"},body:this._createCartMutation(this.asGraplLineItems(t),window.PPnote?.()||"",this._shopifyLocalDirective)}).then((t=>t.json())).then((t=>{let e=t.data.cartCreate.userErrors,i=t.data.cartCreate.warnings;return e&&e[0]?console.log(e[0]):i&&i[0]?console.log(i[0].message):t.data.cartCreate.cart.checkoutUrl}))}static async _checkoutViaUniAPI(t={}){let e=this.apiData.shop,i=PP_CHECKOUTS_ENDPOINT,n={shop:e.domain,items:this.asAJAXLineItems(t),locale:this._userLocale,note:window.PPnote?.()||null};return fetch(i,{async:!0,crossDomain:!0,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((t=>t.json())).then((t=>{let e=t.error;return e?(alert(e),window.location.href=this._cartRedirectURL):t.checkout.url}))}static get _userLocale(){return window?.navigator?.language?.split("-")?.[0]||"en"}static get _shopifyLocalDirective(){let t={country:window.Shopify?.country?.toUpperCase(),language:window.Shopify?.locale?.toUpperCase()?.replace("-","_")};var e,i;t.country=(e=t.country)&&2===e.length?e:null,t.language=(i=t.language)?5==i.length&&"EN"==`${i[0]}${i[1]}`?"EN":2===i.length||5===i.length&&"_"===i[2]?i:null:null;let n="";return(t.country||t.language)&&(n="@inContext(",t.country&&(n+=`country: ${t.country}`),t.language&&(n+=` language: ${t.language}`),n+=")"),n}}async function r(t,e){let i=(t,e)=>{let i=e;return i.deposit_percentage?i.deposit_percentage/100*t:i.deposit_price},r=(t,e)=>{let i=e.max_variant_sales[t]||99999,n=e.customer_max_limit||99999;return Math.min(i,n)},a=t=>{let e=t;return e.different_lead_time||`${e.lead_time} ${(e.custom_front_end||{})["shopify-line-item-shipping-days"]||"days"}`};function o(t){return new Promise((e=>setTimeout(e,t)))}for(const d of t){let t=(s=e.variant_id_price[d.id],Math.round(100*s)||0);await n.forcePush({id:Number(d.id),quantity:Number(d.quantity),sellingPlan:Number(d.selling_plan),properties:d.properties,src:e.variant_id_img[d.id],name:(p=e.variant_id_name[d.id],p?.toLowerCase()?.includes("default")?e.name:p),unitPrice:t,unitDeposit:i(t,e),discount:e.discount,maxLimit:r(d.id,e),shipDate:e.ship_date,shippingStatement:a(e)},!1),await o(450)}var p,s;n.transactionHandedOff||await o(1e3)}function a(t){n.transactionHandedOff||"cart_without_redirect"==t.frontend_charge_redirect?(window?.PPcloseNav(),n.tag?.spin(!0),setTimeout((()=>{n.tag?.syncElement(),n.tag?.spin(!1)}),1e3)):"checkout"==t.frontend_charge_redirect&&n.canCheckoutViaAPI?n.checkoutViaAPIAndClear():n.redirectToCartURL()}function o(t=null){return n.totalPriceAsCoinage({},t)||0}function p(){return n.totalDepositAsCoinage()||0}let s=(t=null,e=!1)=>{let i=()=>{n.init&&document.querySelectorAll("#pp-cart-session-lines").forEach((e=>{e.innerHTML=n.asHTML({},t)}))};window.addEventListener("ppCartSessionLaunched",(()=>{i()})),window.addEventListener("ppJustLaunched",(()=>{i()})),e&&window.addEventListener("ppJustConverted",(()=>{i()}))},d=()=>{window.addEventListener("ppCartSessionTransactionFinish",(()=>{PPsyncDepositCartWording(),PPsyncCartTotalWording()}))},l=()=>n.items.map((t=>String(t.id)));function c(t,e=1){return t?(t*e*.01).toFixed(2):"0.00"}var m={shop:{domain:"shopify_domain"},preproduct:{platform_product_id:"shopify_product_id",split_variant_charging:"has_split_payment_links"},product:{}};function u(e){const i={...e.shop},n={...e.preproduct},r=e.preproduct.product?{...e.preproduct.product}:{};[i,r].forEach((t=>{!function(t){delete t.created_at,delete t.updated_at,delete t.id}(t)}));let a={...i,...n,...r};return function(t){Object.keys(m).forEach((e=>{Object.keys(m[e]).forEach((i=>{const n=m[e][i];t[i]&&(t[n]=t[i],delete t[i])}))}))}(a),function(e){Object.keys(e).forEach((i=>{t.includes(i)||delete e[i]}))}(a),delete a.product,a}class h{static EXPOSED_VARIABLES=["name","product_name","discount_percentage","deposit_percentage","fixed_deposit_amount","shipping_statement","product_sales"];constructor(t,e="days",i="$",n=1){this.daysVerbage=String(e||"days"),this.currencySymbol=String(i||"$"),this.conversionRate=Number(n||1);for(const e in t)this[e]=t[e]}parseObject(t){let e={};return Object.keys(t).forEach((i=>{let n=t[i];"string"==typeof n?e[i]=this.parse(n):Array.isArray(n)?e[i]=n.map((t=>this.parse(t))):e[i]=n&&"object"==typeof n?this.parseObject(n):n})),e}parse(t){return t&&"string"==typeof t?t.replace(/\{\{\s*(.+?)\s*\}\}/g,((t,e)=>{try{return e=e.trim(),this.getVariable(e)||t}catch(e){return t}})):t}getVariable(t){return h.EXPOSED_VARIABLES.includes(t)?void 0!==this[`_${t}`]?this[`_${t}`]:void 0!==this[t]?this[t]:null:null}get _product_name(){return this.name}get _fixed_deposit_amount(){let t=(this.deposit_price||0)*this.conversionRate;return`${this.currencySymbol}${c(t)}`}get _discount_percentage(){return`${this.discount||0}%`}get _deposit_percentage(){return`${this.deposit_percentage||0}%`}get _shipping_statement(){return this.different_lead_time||`${this.lead_time} ${this.daysVerbage}`}get _product_sales(){return String(this.sales_actual||0)}}function g(){return t=window.location.search,new URLSearchParams(t).get("variant")||function(){if(!window.Shopify?.theme)return null;let t=y().querySelector('input[name="id"][type="hidden"]');return t?.value}()||function(){let t=function(){let t=y();return Array.from(t.querySelectorAll("option:checked, input:checked")).map((t=>String(t.value)))}()||[],e=window.preproduct?.variant_id_selected_options||{},i=Object.keys(e).reduce(((i,n)=>{let r=Object.values(e[n]).filter((e=>{if("string"!=typeof e)return!1;let i=e.toLowerCase();return t.filter((t=>t?.toLowerCase()==i)).length>0})).length;return r+=(e[n].ids||[]).reduce(((e,i)=>t.includes(String(i))?e+1:e),0),r>i.matchCount?{id:n,matchCount:r}:i}),{variant:null,matchCount:0});return i?.id}()||I()?.dataset?.startingVariant||null;var t}function y(){let t=document.querySelector('[action*="cart/add"], [action*="cart.php"]'),e=window.ppParentsDeep||2;for(;e>0;e--)t?.parentElement&&(t=t.parentElement);return t||document}function f(){window.Shopify&&"object"==typeof window.Shopify||(window.Shopify={}),window.meta&&"object"==typeof window.meta||(window.meta={}),window.meta.product&&"object"==typeof window.meta.product||(window.meta.product={}),Shopify.shop||(Shopify.shop=preproduct.shopify_domain),Shopify.locale||(Shopify.locale=navigator.language||"en"),meta.product.id||(meta.product.id=preproduct.shopify_product_id),meta.product.variants||(meta.product.variants=[]);let t=[];meta.product.variants.forEach((e=>{e.id&&t.push(e.id)}));for(let[e,i]of Object.entries(preproduct.variant_id_name))t.includes(Number(e))||meta.product.variants.push({id:Number(e),price:100*Number(preproduct.variant_id_price[e]),name:`${preproduct.name} - ${i}`})}function _(){gt()&&preproduct.discount&&(meta.product.variants.forEach(((t,e)=>{var i=t.price/100*preproduct.discount;let n=t.price-i;meta.product.variants[e].price=n})),window.ppAppliedSellingPlanDiscounts=!0)}function x(t,e){if(preproduct.secondary_custom_front_end){let t=(Shopify.locale||"").split("-")[0]||window?.navigator?.language?.split("-")?.[0],e=!!N()[0]?function(t=null){null!=t&&null!=preproduct.locale&&t!=preproduct.locale||(t="");let e=t?`${t}_`:"",i=C().replaceAll(" ","_"),n=`${e}native_${i}_with_discount`,r=`${e}native_${i}`;return preproduct.discount&&preproduct.secondary_custom_front_end[n]?n:preproduct.secondary_custom_front_end[r]?r:n}(t):t;preproduct.secondary_custom_front_end[e]&&(preproduct.custom_front_end=preproduct.secondary_custom_front_end[e]||preproduct.secondary_custom_front_end[t])}let i='<div style="color:#808080!important; font-size: 6pt!important; line-height: 2.5;"><a href="https://www.preproduct.io" target="_blank" style="color:#808080!important; font-size: 6pt!important; line-height: 2.5;">Shopify pre-orders</a> powered by PreProduct.io  </div>';return preproduct.custom_front_end?{"pp-display-text4":"<p class='pp-display-text' id='pp-display-text4' style='font-family: "+pp_fonts_reg+"; font-size: 22px; font-weight: 700 !important; line-height: 1.5 !important; color: "+e+" !important; margin: 0px !important;'>"+preproduct.custom_front_end["pp-display-text4-1"]+"<mark id='pp-display-text4-inner' style='background-color: "+e+" !important; color: white !important; padding: 1px !important; padding-left: 4px !important; padding-right: 4px !important;'>5%</mark> "+preproduct.custom_front_end["pp-display-text4-2"]+" </p>","pp-display-text4-new-cart":"<span id='pp-display-text4' class='pp-cart-pre-order-details-text'>"+preproduct.custom_front_end["pp-display-text4-1"]+"<strong id='pp-display-text4-inner' class='pp-cart-pre-order-details-text-bold'>5%</strong>"+preproduct.custom_front_end["pp-display-text4-2"]+"</span>","pp-display-text3-base":'<p class="pp-display-text" id="pp-display-text3" style="font-family: '+pp_fonts_reg+"; font-size: 22px; font-weight: 700 !important; line-height: 1.5 !important; color: "+e+' !important; margin: 0px !important;">'+preproduct.custom_front_end["pp-display-text3"]+"</p>","pp-display-text3-base-new-cart":'<br><span id="pp-display-text3">'+preproduct.custom_front_end["pp-display-text3"]+"</span>","pp-display-text3-base_cf":"<p class='pp-display-text' id='pp-display-text3' style='font-family: "+pp_fonts_reg+"; font-size: 22px; font-weight: 700 !important; line-height: 1.5 !important; color: "+e+" !important; margin: 0px !important;'>"+preproduct.custom_front_end["pp-display-text3-base-cf"]+"<mark id='pp-display-text3-inner' style='background-color: "+e+" !important; color: white !important; padding: 1px !important; padding-left: 4px !important; padding-right: 4px !important;'>20 people order.</mark> </p>","pp-display-text3-base_cf-new-cart":"<p class='pp-display-text pp-cart-pre-order-details-text' id='pp-display-text3'>"+preproduct.custom_front_end["pp-display-text3-base-cf"]+"<strong id='pp-display-text3-inner' class='pp-cart-pre-order-details-text-bold'>20 people order.</strong></p>",notes:preproduct.custom_front_end.notes,"first-name":preproduct.custom_front_end["first-name"],email:preproduct.custom_front_end.email,"pp-bottom-para-a":preproduct.custom_front_end["pp-bottom-para-a"],"pp-bottom-para-b":preproduct.custom_front_end["pp-bottom-para-b"],"pp-bottom-para-c":preproduct.custom_front_end["pp-bottom-para-c"],"pp-bottom-para-d":preproduct.custom_front_end["pp-bottom-para-d"],discount_phrase:preproduct.custom_front_end.discount_phrase,place:preproduct.custom_front_end.place,"pp-display-text5-inner-a":preproduct.custom_front_end["pp-display-text5-inner-a"],"pp-display-text5-inner-b":preproduct.custom_front_end["pp-display-text5-inner-b"],"pp-display-text5-inner2":preproduct.custom_front_end["pp-display-text5-inner2"],"pp-display-text1":preproduct.custom_front_end["pp-display-text1"],pp_middle_line:preproduct.custom_front_end.pp_middle_line,pp_charge_later_middle_line:preproduct.custom_front_end.pp_charge_later_middle_line||"You won't be charged until we are ready to ship.",pp_remaining_spots:preproduct.custom_front_end.pp_remaining_spots,pp_deposits_button_text:preproduct.custom_front_end.pp_deposits_button_text,pp_shop_name:preproduct.custom_front_end.pp_shop_name,pp_shop_nameb:preproduct.custom_front_end.pp_shop_nameb,"pp-display-text3":preproduct.custom_front_end["pp-display-text3"],"pp-display-text3-charge-later":preproduct.custom_front_end["pp-display-text3-charge-later"]||"Pre-order today and we'll hold off charging you until we're ready to ship.","pp-display-text3-deposit":preproduct.custom_front_end["pp-display-text3-deposit"]||preproduct.custom_front_end["pp-display-text3"],"pp-display-text3-deposit-cta-1":preproduct.custom_front_end["pp-display-text3-deposit-cta-1"],"pp-display-text3-deposit-cta-2":preproduct.custom_front_end["pp-display-text3-deposit-cta-2"],pp_remaining_spotsb:preproduct.custom_front_end.pp_remaining_spotsb,"pp-display-text3-inner":preproduct.custom_front_end["pp-display-text3-inner"],"pp-dislaimer":preproduct.custom_front_end["pp-dislaimer"]+i,success:preproduct.custom_front_end.success,"deposit-success":preproduct.custom_front_end["deposit-success"],"accept-payment-success":preproduct.custom_front_end["accept-payment-success"],lockin:preproduct.custom_front_end.lockin,"max-limits-reached":preproduct.custom_front_end["max-limits-reached"],"shopify-line-item-shipping-key":preproduct.custom_front_end["shopify-line-item-shipping-key"],"shopify-line-item-shipping-days":preproduct.custom_front_end["shopify-line-item-shipping-days"],"pp-button-text":preproduct.custom_front_end["pp-button-text"],"pp-native-btn-companion-text":preproduct.custom_front_end["pp-native-btn-companion-text"],"pp-native-btn-text":preproduct.custom_front_end["pp-native-btn-text"],"pp-native-btn-companion-text-align-center":preproduct.custom_front_end["pp-native-btn-companion-text-align-center"],"pp-native-btn-companion-text-bottom-padding":preproduct.custom_front_end["pp-native-btn-companion-text-bottom-padding"],"pp-native-btn-companion-text-colour":preproduct.custom_front_end["pp-native-btn-companion-text-colour"]}:{"pp-display-text4":"<p class='pp-display-text' id='pp-display-text4' style='font-family: "+pp_fonts_reg+"; font-size: 22px; font-weight: 700 !important; line-height: 1.5 !important; color: "+e+" !important; margin: 0px !important;'>You will receive a <mark id='pp-display-text4-inner' style='background-color: "+e+" !important; color: white !important; padding: 1px !important; padding-left: 4px !important; padding-right: 4px !important;'>5%</mark> early bird discount. </p>","pp-display-text4-new-cart":"<span id='pp-display-text4' class='pp-cart-pre-order-details-text'>You will receive a <strong id='pp-display-text4-inner' class='pp-cart-pre-order-details-text-bold'>5%</strong> early bird discount.</span>","pp-display-text3-base":'<p class="pp-display-text" id="pp-display-text3" style="font-family: '+pp_fonts_reg+"; font-size: 22px; font-weight: 700 !important; line-height: 1.5 !important; color: "+e+' !important; margin: 0px !important;">Enter your details and we will send you a payment link in the near future.</p>',"pp-display-text3-base-new-cart":'<span id="pp-display-text3" class="pp-cart-pre-order-details-text"> Enter <strong class="pp-cart-pre-order-details-text-bold">your details</strong> and we will send you <strong class="pp-cart-pre-order-details-text-bold">a payment link</strong> in the near future. </span>',"pp-display-text3-base_cf":"<p class='pp-display-text' id='pp-display-text3' style='font-family: "+pp_fonts_reg+"; font-size: 22px; font-weight: 700 !important; line-height: 1.5 !important; color: "+e+" !important; margin: 0px !important;'> You will be sent a payment link once <mark id='pp-display-text3-inner' style='background-color: "+e+" !important; color: white !important; padding: 1px !important; padding-left: 4px !important; padding-right: 4px !important;'>20 people order.</mark> </p>","pp-display-text3-base_cf-new-cart":"<p class='pp-display-text pp-cart-pre-order-details-text' id='pp-display-text3'>Enter your details and we will send you sent a payment link once <strong id='pp-display-text3-inner' class='pp-cart-pre-order-details-text-bold'>20 people order.</strong></p>",notes:"+ Note","first-name":"First name",email:"Email","pp-bottom-para-a":"You will then be able to enter your payment details and receive the ","pp-bottom-para-b":" discount for a total of ","pp-bottom-para-c":" excluding shipping. Look for updates via the ","pp-bottom-para-d":" social media channels or email.",discount_phrase:"% early bird discount.",place:"place","pp-display-text5-inner-a":"We expect the ","pp-display-text5-inner-b":" will ship in ","pp-display-text5-inner2":" days.","pp-display-text1":" Pre-orders",pp_middle_line:"You will be sent a payment link by email",pp_charge_later_middle_line:"You won't be charged until we are ready to ship.",pp_remaining_spots:"Limited time",pp_deposits_button_text:"Pay a deposit of ",pp_shop_name:"This is a Pre-order listing",pp_shop_nameb:"This is a Pre-order listing for ","pp-display-text3":"Enter your details and we will send you a <br> payment link in the near future.","pp-display-text3-charge-later":"Pre-order today and we'll hold off charging you until we're ready to ship.","pp-display-text3-deposit":"Pay a deposit today and we'll hold off charging you until we're ready to ship.","pp-display-text3-deposit-cta-1":"Pay a "+(preproduct.currency||""),"pp-display-text3-deposit-cta-2":"deposit today and we'll charge the remaining balance when we're ready to ship.",pp_remaining_spotsb:" remaining spots","pp-display-text3-inner":" people order.","pp-dislaimer":"All payments will be processed through this store's checkout."+i,success:"Successful pre-order","deposit-success":"","accept-payment-success":"",lockin:"to lock in a","pp-native-btn-companion-text":"","pp-native-btn-text":"","pp-native-btn-companion-text-align-center":null,"pp-native-btn-companion-text-bottom-padding":null,"pp-native-btn-companion-text-colour":null}}function b(t){t.matches?(document.getElementById("pp-strong").style.fontSize="16px",document.getElementById("pledge-description").style.marginLeft="0px",document.getElementById("ppDesktopBreak").style.display="none",document.getElementById("pledge-description").style.paddingRight="0px",document.getElementById("psvg-icon-span").style.marginRight="-20px"):(document.getElementById("pp-strong").style.fontSize="14px",document.getElementById("pledge-description").style.marginLeft="-7px",document.getElementById("ppDesktopBreak").style.display="inline-block",document.getElementById("pledge-description").style.marginLeft="-19px",document.getElementById("psvg-icon-span").style.marginRight="0px")}function v(t){if(!preproduct.new_cart)if(t.matches){document.getElementById("pp-display-text1").style.fontSize="19px",document.getElementById("pp-display-text2").style.fontSize="19px",document.getElementById("pp-display-text3").style.fontSize="19px",document.getElementById("pp-display-text4").style.fontSize="19px",document.getElementById("pp-display-text5").style.fontSize="19px",document.getElementById("pp-display-text5-inner").style.fontSize="19px",document.getElementById("pp-display-text5-inner2").style.fontSize="19px",document.getElementById("pp-display-text5-inner3").style.fontSize="19px",document.getElementById("pp-bottom-para-span").style.width="100%",document.getElementById("pp-field-1").style.width="100%",document.getElementById("pp-field-2").style.width="100%",document.getElementById("pp-field-4").style.width="100%";var e=document.getElementsByClassName("pp-select-list");Array.from(e).forEach((function(t){t.style.width="100%",t.style.textAlignLast="center",t.style.paddingLeft="80px"}));var i=document.getElementsByClassName("pp-btn");Array.from(i).forEach((function(t){t.id.includes("minus")&&(t.style.right="45px")})),document.getElementById("pp-display-text1").style.fontSize="24px",document.getElementById("pp-display-text1").style.paddingBottom="0px"}else{document.getElementById("pp-display-text1").style.fontSize="22px",document.getElementById("pp-display-text2").style.fontSize="22px",document.getElementById("pp-display-text3").style.fontSize="22px",document.getElementById("pp-display-text4").style.fontSize="22px",document.getElementById("pp-display-text5").style.fontSize="22px",document.getElementById("pp-display-text5-inner").style.fontSize="22px",document.getElementById("pp-display-text5-inner2").style.fontSize="22px",document.getElementById("pp-display-text5-inner3").style.fontSize="22px",document.getElementById("pp-bottom-para-span").style.width="400px",document.getElementById("pp-field-1").style.width="200px",document.getElementById("pp-field-2").style.width="200px",document.getElementById("pp-field-4").style.width="410px";e=document.getElementsByClassName("pp-select-list");Array.from(e).forEach((function(t){t.style.width="410px",t.style.textAlignLast="left",t.style.paddingLeft="15px"}));i=document.getElementsByClassName("pp-btn");Array.from(i).forEach((function(t){t.id.includes("minus")&&(t.style.right="60px")})),document.getElementById("pp-display-text1").style.cssText="font-size: 28px !important; font-weight: 700 !important; line-height: 1.5 !important;font-family: "+pp_fonts_bold+"; color: "+PPsCol+"!important;margin: 0 0 0px!important;",document.getElementById("pp-display-text1").style.paddingBottom="0px"}}async function w(){preproduct.custom_font.regular&&(new_font=new FontFace("pp-custom",`url(${preproduct.custom_font.regular})`),new_font.load().then((function(t){document.fonts.add(t)})).catch((function(t){}))),preproduct.custom_font.bold&&(new_bold_font=new FontFace("pp-custom-bold",`url(${preproduct.custom_font.bold})`),new_bold_font.load().then((function(t){document.fonts.add(t)})).catch((function(t){})))}async function P(){if(preproduct.logo)document.querySelector(".pp-cart-header__avatar-initials").style.display="none",document.querySelector(".pp-cart-header__logo").src=preproduct.logo;else{document.querySelector(".pp-cart-header__logo").style.display="none";let t=document.querySelector(".pp-cart-header__avatar-initials"),e=preproduct.shop_name.split(" ").filter((t=>t)),i=e.length>1?`${e[0][0]}.${e[e.length-1][0]}`:e[0][0];t.innerHTML=i.toUpperCase()}preproduct.header&&(document.querySelector(".pp-cart-header__image").src=preproduct.header)}function E(){if(preproduct.new_cart){document.querySelector(".pp-cart-bottom-element").style.cssText="display: none !important;",document.querySelector(".pp-cart-section-bottom").style.maxHeight="110px",document.querySelector(".pp-cart-container").style.cssText="min-height: 600px !important;"}else{document.querySelectorAll("#pp-field-1, #pp-field-2").forEach((t=>{t.style.display="none"}))}}function S(){let t=document.querySelectorAll("[data-native-pre-order-btn][data-starting-variant]:not([data-quick-pre-order])")[0]||document.querySelectorAll("[data-native-pre-order-btn][data-id]:not([data-quick-pre-order])")[0],e=window.meta?.product?.variants?.length>=1&&k()||t;return T()||e}function I(){return T()||k()}function T(){return document.getElementById("preproduct-pledge")}function k(){return N().find((t=>!t.hasAttribute("data-quick-pre-order")))}function C(){return preproduct.payment_email_sent||preproduct.charge_upfront_selling_plan_id?"charge and capture":preproduct.charge_later_selling_plan_id?"charge later":preproduct.deposit_price||preproduct.deposit_selling_plan_id?"deposit and capture":"capture only"}function B(){let t=S(),e=window.ppParentsDeep||3;for(;e>0;e--)t.parentElement&&(t=t.parentElement);return t}function A(){return N().length>0}function N(){let t=document.querySelectorAll("[data-native-pre-order-btn]"),e=[],i=window.meta?.product?.variants?.map((t=>t.id))||[];return t.forEach((t=>{t.dataset.startingVariant?i.includes(Number(t.dataset.startingVariant))&&e.push(t):e.push(t)})),e}function L(t){let e=t.cloneNode(!0),i=O(t);return"INPUT"==e.tagName?e.setAttribute("value",i):e.innerText=i,e.removeAttribute("id"),t.parentElement.insertBefore(e,t),e}function O(t){return q(t)&&""!=t.dataset.nativePreOrderBtn&&"true"!=t.dataset.nativePreOrderBtn?t.dataset.nativePreOrderBtn:pp_tr["pp-native-btn-text"]?pp_tr["pp-native-btn-text"]:"pre-order"}function q(t){return t.hasAttribute("data-native-pre-order-btn")}function $(t){return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1}function M(){let t=I().dataset.preOrderQuant,e=B().querySelector('[name="quantity"]'),i=t||e&&e.value?Number(e.value):1;return Q(at(),i)||U(i)?1:i||1}function D(){"100%"==document.querySelector("#pledge-details").style.height?H():j()}function V(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function j(){try{document.styleSheets[0].cssRules[0].style.outline="none",document.styleSheets[0].insertRule(".pp-btn::after { outline: none !important; }",0)}catch{}let t=meta.product.variants;var e=M();variantId=at(),R();let i=variantId?t.find((t=>t.id==variantId)):t[0];i=i||t[0],window.otherVariantQuantities[i.id]=e,X(),document.getElementById("pp-variantfield-0").value=i.id,document.getElementById("pp-variantbutton-tally-0").value=e;var n=(document.querySelector("#pp-just-selects")||document).querySelectorAll(".pp-select-row");Array.from(n).forEach((t=>"pp-select-row-0"==t.id?"":t.outerHTML="")),et("pp-variantfield-0"),K(),preproduct.skip_onpage_cart&&"payment-link"!=G()?vt():document.getElementById("pledge-details").style.height="100%",preproduct.new_cart&&setTimeout((t=>{Array.from(document.querySelectorAll(".pp-cart-ease-in")).forEach((t=>{t.style.opacity="1"})),document.querySelector(".pp-overlay-loading").style.width="100%",nt("pp-variantfield-0")}),100)}function H(){document.getElementById("pledge-details").style.height="0%",preproduct.new_cart&&setTimeout((t=>{Array.from(document.querySelectorAll(".pp-cart-ease-in")).forEach((t=>{t.style.opacity="0"})),document.querySelector(".pp-overlay-loading").style.width="0%"}),100)}function z(t,e){var i=e.split("-")[3],n="pp-variantfield-"+i,r=document.getElementById(n).value;0==Number(t)?(variantsValue=document.getElementById("pp-variantbutton-tally-"+i).value,window.otherVariantQuantities[r]=Number(variantsValue)):window.otherVariantQuantities[r]?window.otherVariantQuantities[r]=window.otherVariantQuantities[r]+Number(t):window.otherVariantQuantities[r]=0+Number(t)}function R(){window.otherVariantQuantities={}}function F(t,e){var i=e.split("-")[3],n=document.getElementById("pp-variantfield-"+i).value,r=document.getElementById("pp-variantbutton-tally-"+i).value;if(0==t)var a=r,o=W()+Number(r);else a=Number(r)+Number(t),o=W()+Number(t);function p(t,e,i,n=0){if(0!=t){let t=n>=0?n:t;document.getElementById(e),Tt(otherVariantQuantities),document.getElementById("pp-variantbutton-tally-"+i).value=t}r<0&&(document.getElementById("pp-variantbutton-tally-"+i).value=0),z(t,e),X()}Q(n,a)||U(o)?document.getElementById("pp-variantbutton-tally-"+i).value=window.otherVariantQuantities[n]||0:(0!=t?a>=0?p(t,e,i,a):function(t){if(0!=Number(t)){var e=document.getElementById("pp-variantfield-"+t).value,i=document.getElementsByClassName("pp-select-list");try{Array.from(i).forEach((t=>Array.from(t.options).forEach((t=>t.value==e?t.disabled=!1:""))))}catch{console.log(err.message)}window["PPselect"+t]=0,document.getElementById("pp-select-row-"+t).outerHTML=""}else window.otherVariantQuantities[n]=0}(i):p(t,e,i),K())}function Q(t,e){t=String(t);let i=preproduct.payment_email_sent?preproduct.paid_for:preproduct.current_variant_sales;if(preproduct.max_variant_sales&&preproduct.max_variant_sales[t]){var n=Number(preproduct.max_variant_sales[t])-Number(i[t]||0);if(Number(e)>n)return alert(`Sorry, max of ${n} available to order`),!0}}function U(t){if(!preproduct.customer_max_limit)return!1;return null==t&&(t=W()),lt()+t>preproduct.customer_max_limit?(alert(pp_tr["max-limits-reached"]||"Sorry, max limit exceeded"),!0):void 0}function G(){return preproduct.charge_later_selling_plan_id||preproduct.deposit_selling_plan_id?"deferred-charge":preproduct.payment_email_sent?"charge-upfront":"payment-link"}function W(){let t=Object.values(otherVariantQuantities);return null!=t[0]?t.reduce(((t,e)=>(t||0)+(e||0))):1}function J(){let t=0;for(const[e,i]of Object.entries(window.otherVariantQuantities)){let n=meta.product.variants.find((t=>t.id==e));n&&(t+=(preproduct.deposit_percentage?preproduct.deposit_percentage/100*n.price:Z(preproduct.deposit_price))*i)}return c(t+p(),1)}function Y(){let t=0;for(const[e,i]of Object.entries(window.otherVariantQuantities)){let n=meta.product.variants.find((t=>t.id==e));n&&(t+=n.price*i)}return t+o(1==Object.keys(window.preproduct?.current_variant_sales||{}).length?g():null)}function K(){(preproduct.deposit_price||preproduct.deposit_selling_plan_id)&&document.querySelectorAll("#pp-current-deposit-price").forEach((t=>{t.innerText=J()}))}function X(){let t=Y();document.querySelectorAll("#pp-display-text7").forEach((e=>{e.innerHTML=c(t)}))}function Z(t){return tt()*t}function tt(){return Shopify.currency&&Shopify.currency.rate?Number(Shopify.currency.rate).toFixed(5):1}function et(t){var e=document.getElementsByClassName("pp-select-list"),i=document.getElementById(t),n=[];Array.from(e).forEach((t=>n.push(t.value)));var r=n.indexOf(i.value);n.splice(r,1);var a=document.getElementById(t).options;if(Array.from(a).forEach((t=>n.includes(t.value)?t.disabled=!0:t.disabled=!1)),window.preproduct.specific_variants[0]){a=document.getElementById(t).options;Array.from(a).forEach((function(t){!window.preproduct.specific_variants.includes(t.value)&&(t.disabled=!0)}))}}function it(t){var e=t.split("-")[2],i=window["PPselect"+e],n=document.getElementById(t).value,r=document.getElementsByClassName("pp-select-list"),a=[];Array.from(r).forEach((e=>e.id!=t?a.push(e):""));try{Array.from(a).forEach((t=>Array.from(t.options).forEach((t=>t.value==i?t.disabled=!1:""))))}catch{console.log(err.message)}try{Array.from(a).forEach((t=>Array.from(t.options).forEach((t=>t.value==n?t.disabled=!0:""))))}catch{console.log(err.message)}}async function nt(t){var e=document.getElementById(t),i=Number(e.value),n=t.split("-")[t.split("-").length-1];if(preproduct.variant_id_img){let t=preproduct.variant_id_img[i]+"&height=100";document.getElementById(`pp-cart-line-item-image-${n}`).src=t}}function rt(){let t=meta.product.variants[0]?.id;if(t&&(t=String(t)),window.preproduct.specific_variants[0]){let e=g()||t;g()||(urlPrefix=location.href.includes("?")?"&":"?",document.location.href=location.href+urlPrefix+"variant="+t),window.preproduct.max_variant_sales[e]&&!window.preproduct.specific_variants.includes(e)?(Pt("hide"),Et(!1)):!window.preproduct.specific_variants[0]||window.preproduct.specific_variants.includes(e)?(Pt("hide"),Et(!0)):(Pt("show"),Et(!1))}else Pt("hide"),Et(!0)}function at(){let t=meta.product.variants;if(variantId=g(),!t.find((t=>t.id==variantId)))return null;if(l().includes(variantId)&&t.length>1){let e=t.find((t=>!l().includes(String(t.id))));variantId=e?.id||t[0].id}return preproduct.specific_variants[0]&&!preproduct.specific_variants.includes(String(variantId))&&(variantId=preproduct.specific_variants.find((t=>!l().includes(t)))||preproduct.specific_variants[0]),variantId?String(variantId):null}function ot(){return"capture only"!=C()}function pt(t,e,i){try{if("set"==i)localStorage.setItem("PPcustomerName",t),localStorage.setItem("PPcustomerEmail",e);else{if("getName"==i){let t=localStorage.getItem("PPcustomerName");return t?`value=${t}`:""}if("getEmail"==i){let t=localStorage.getItem("PPcustomerEmail");return t?`value=${t}`:""}}}catch(t){return""}}function st(){try{let t=ct();t[preproduct.shopify_product_id]=dt(),localStorage.setItem("PPcustomerOrderQuantities",JSON.stringify(t))}catch(t){}}function dt(){let t=lt();for(let[e,i]of Object.entries(window.otherVariantQuantities))t+=i;return t||0}function lt(){return ct()[preproduct.shopify_product_id]||0}function ct(){let t=localStorage.getItem("PPcustomerOrderQuantities")||"{}";return JSON.parse(t)||{}}function mt(){return{id:preproduct.id,productId:preproduct.shopify_product_id,items:bt(),handled:!1,defaultAction:""==I().dataset.cartRedirectUrl?"noRedirect":"redirect"}}function ut(){document.querySelectorAll(".pp-button-width, .pp-button-width1").forEach((t=>{ht(t)}))}function ht(t){let e=t.innerHTML;t.innerHTML="<div style='text-align:center; align-self:center; display:flex;'> <span style='display: inline-block; margin:20px; width: 25px; height: 25px; border: 3px solid rgb(40 49 50); border-radius: 50%; border-color: #fff #fff #283132 #fff; animation: spin 0.7s ease-in-out infinite; -webkit-animation: spin 0.7s ease-in-out infinite; mix-blend-mode:screen;'></span> </div>",setTimeout((i=>{t.innerHTML=e}),5e3)}function gt(){let t=preproduct.deposit_selling_plan_id||preproduct.charge_later_selling_plan_id||preproduct.charge_upfront_selling_plan_id;return t?t.split("SellingPlan/")[1]||"1":null}function yt(){let t=Shopify.currency?Shopify.currency.active:null;return t?"USD"==t||"CAD"==t||"AUD"==t||"NZD"==t||"SGD"==t||"HKD"==t?"$":"EUR"==t?"€":"GBP"==t?"£":"CNY"==t||"JPY"==t?"¥":"BGN"==t?"лв":"HRK"==t?"kn":"CZK"==t?"Kč":"DKK"==t||"SEK"==t?"kr":"HUF"==t?"Ft":"ILS"==t?"₪":"CHF"==t?"CHF":"PLN"==t?"zł":"QAR"==t?"﷼":"RON"==t?"lei":"SAR"==t?"﷼":"RSD"==t?"Дин":"KRW"==t?"₩":"TWD"==t?"NT$":"VND"==t?"₫":"AED"==t?"د.إ":preproduct.currency||"$":preproduct.currency||"$"}function ft(){return!(!preproduct.payment_email_sent&&!gt())}function _t(){let t=window.ppCustomLineItemProperties;return t&&"object"==typeof t?t:{}}function xt(){let t=gt()?"":"pre-order";return lineItemProperties=Object.assign({"Order type":t,[pp_tr["shopify-line-item-shipping-key"]||"Estimated shipping"]:window.ppParser.getVariable("shipping_statement")},_t())}function bt(){let t=[];for(let[i,n]of Object.entries(otherVariantQuantities)){var e=new Object({id:String(i),quantity:String(n),properties:xt()});(!preproduct.payment_email_sent&&gt()||preproduct.charge_upfront_selling_plan_id)&&(e.selling_plan=gt()),t.push(e)}return t}async function vt(){var t,e=document.getElementById("pp-customer-info"),i="";for(t=0;t<e.length;t++)i=(i+=e.elements[t].value.replace(/,/g," ")+",").split(",");if(!ft()&&(i[1].length<1||i[2].length<1))alert("Please fill in both your name and email");else if(ft()||V(i[2])){if(U(null))return;pt(i[1],i[2],"set"),st();let t=new CustomEvent("ppConvertingButtonClicked",{detail:mt()});if(dispatchEvent(t),t.detail.handled)return H(),void(T()?T().style.display="none":k()&&(k().setAttribute("disabled",""),setTimeout((()=>{k().removeAttribute("disabled")}),3e3)));if(ft());else{var n=JSON.stringify(otherVariantQuantities),o=Tt(otherVariantQuantities),p=`shop=${window.Shopify?.shop||masterElement.dataset.domain||window.ppTesting?.domain||window.location.hostname}&customer_name=${i[1]}&customer_email=${i[2]}&quantity=${o}&notes=${i[0]}&variant_quantities=${n}&customer_locale=${Shopify.locale||""}&customer_country=${Shopify.country||""}`,s=new XMLHttpRequest;s.open("POST",`${PP_MAIN_LISTING_ENDPOINT_BASE}${preproduct.shopify_product_id}.json`,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(p)}!function(){if(ot()||gt()){!("cart"==preproduct.frontend_charge_redirect||"cart_without_redirect"==preproduct.frontend_charge_redirect)&&pp_tr["accept-payment-success"]&&alert(pp_tr["accept-payment-success"])}else preproduct.deposit_selling_plan_id?pp_tr["deposit-success"]&&alert(pp_tr["deposit-success"]):pp_tr.success&&alert(pp_tr.success)}(),preproduct.new_cart&&ut(),async function(){if("capture only"==C())return function(){const t=new CustomEvent("ppJustConverted",{detail:mt()});dispatchEvent(t);let e=`https://${Shopify.shop}${preproduct.success_url}`;return preproduct.success_url?window.location.replace(e):location.reload()}();await r(bt(),preproduct);const t=new CustomEvent("ppJustConverted",{detail:mt()});dispatchEvent(t),t.detail.handled&&"checkout"!=preproduct.frontend_charge_redirect?(H(),T()?T().style.display="none":k()&&(k().setAttribute("disabled",""),setTimeout((()=>{k().removeAttribute("disabled")}),3e3))):a(preproduct)}()}else alert("Please enter a valid email address")}function wt(){var t=window.preproduct;window.PPisHeadless&&f(),window.ppAppliedSellingPlanDiscounts||_(),null==t.brand_colours?t.brand_colours={main:"rgba(213, 212, 211, 0.5)",dark_tint:"rgb(40 49 50)",light_tint:"rgba(213 212 211 / 30%)"}:t.brand_colours.main?window.testingDefaultPreProductCart&&(t.brand_colours={main:"rgba(213, 212, 211, 0.5)",dark_tint:"rgb(40 49 50)",light_tint:"rgba(213 212 211 / 30%)"},t.logo=null,t.header=null):(t.brand_colours.main="rgba(213, 212, 211, 0.5)",t.brand_colours.dark_tint="rgb(40 49 50)",t.brand_colours.light_tint="rgba(213 212 211 / 30%)"),window.PPpCol=t.primary_colour||"#283132",window.PPsCol=t.secondary_colour||"#283132",w(),window.pp_fonts_bold="pp-custom-bold, pp-custom, -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Helvetica Neue, Railway, sans-serif",window.pp_fonts_reg="pp-custom, -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Helvetica Neue, Railway, sans-serif";let e=x(PPpCol,PPsCol)||{};window.ppParser=new h(t,e["shopify-line-item-shipping-days"]||"days",yt(),tt()),window.pp_tr=ppParser.parseObject(e);var i="<defs> <style>.st9{fill:"+PPpCol+' ;}</style> </defs> <g> <g> <path class="st9" d="M12.1,6l5.5-1.8l1.5,4.6l-5.5,1.8l3.5,4.7l-3.9,2.9l-3.6-4.7L6,18.1l-3.9-2.9l3.4-4.7L0,8.8l1.5-4.6L7,6V0h5V6z"/> </g> </g>';window.otherVariantQuantities={};var n=T();if(k()){let t=pp_tr["pp-native-btn-companion-text-align-center"]?"text-align:center;":"text-align:left;",e=pp_tr["pp-native-btn-companion-text-colour"]?`color: ${pp_tr["pp-native-btn-companion-text-colour"]};`:"";if(document.getElementById("pp-native-btn-area")||k().insertAdjacentHTML("beforeBegin",`\n\t\t\t\t<div id="pp-native-btn-area" style="display:none;"> \n\t\t\t\t\t<p id="pp-native-btn-companion-text" style="${t} ${e} margin:0px;"></p> \n\t\t\t\t\t<div id="pp-native-btn-para-hidden" style="display:none;"></div> \n\t\t\t\t</div>`),pp_tr["pp-native-btn-companion-text"]){document.querySelector("#pp-native-btn-area").style.display="block";let t=document.getElementById("pp-native-btn-companion-text"),e=pp_tr["pp-native-btn-companion-text-bottom-padding"];t.innerHTML=pp_tr["pp-native-btn-companion-text"],t.style.paddingBottom=e?`${e}px`:"10px"}n=document.getElementById("pp-native-btn-para-hidden")}n.style.paddingTop="20px",n.style.paddingBottom="10px",n.style.paddingLeft="0px",n.innerHTML='<span class="psvg-icon-span" id="psvg-icon-span" style="vertical-align:top!important;white-space:pre!important;"> <svg preserveAspectRatio="xMidYMid" class="PPh7yAG5cgdBp_GhZjXmVIA" style="height: 34px!important; width: 43px!important; vertical-align:top!important; margin-bottom:5px!important;"> <svg id="pp-snippet-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 6 45 17" > <title>Preproduct_icon</title> <g id="PPicon-artwork"> <path d="M27.71,15.55a12.21,12.21,0,0,0-1.8-6.17,10.2,10.2,0,0,0-1.24-1.67,8.52,8.52,0,0,0-2.39-1.82A9,9,0,0,0,20.6,3.31,9.55,9.55,0,0,0,19.06,2,10.17,10.17,0,0,0,13.36,0H2A1.87,1.87,0,0,0,.58.62,2.2,2.2,0,0,0,0,2.12V29.19a.69.69,0,0,0,.19.48.24.24,0,0,0,.08.06.73.73,0,0,0,0,.09.61.61,0,0,0,.45.2h25a1.92,1.92,0,0,0,1.59-.88,2.47,2.47,0,0,0,.36-1.37Zm-2.44,11a.82.82,0,0,1-.22.56.68.68,0,0,1-.51.23H2.91V3.45a.82.82,0,0,1,.22-.56.68.68,0,0,1,.51-.23H6.12c2.31,0,4.77,0,7.18.07a7.74,7.74,0,0,1,4.38,1.5,5,5,0,0,1,.53.41l.19.17.14.13.25.25a.46.46,0,0,0,.07.07l.47.53a6.05,6.05,0,0,1,1,2.2.68.68,0,0,0,0,.12,9.21,9.21,0,0,1,.24,1.33,8.47,8.47,0,0,1-1.47,6.14,7.73,7.73,0,0,1-4.09,2.83,9.33,9.33,0,0,1-3.31.51H11.6l-1.37,0v-.85c0-.61,0-1.6.08-2.38a7.71,7.71,0,0,1,.38-1.75,3.62,3.62,0,0,0-1-.44,5.77,5.77,0,0,0-1.43-.3,5.81,5.81,0,0,0-.17.58,10.93,10.93,0,0,0-.34,3V19H5.61v2.6h6.63a9.77,9.77,0,0,0,2.95-.36,10.43,10.43,0,0,0,5.93-3.92,11.15,11.15,0,0,0,2-7.32,9,9,0,0,1,.66.92,9.37,9.37,0,0,1,1.38,4.75c.06,2.61.07,5.27.07,7.77Z"/> <path d="M11.27,11.58A7.38,7.38,0,0,1,12.9,9.37a5.85,5.85,0,0,1,4.83-1.55A2.55,2.55,0,0,0,17.2,6.6a3.57,3.57,0,0,0-1.82-1.29,7.83,7.83,0,0,0-3.87,2,9.68,9.68,0,0,0-2.24,3.14,5.58,5.58,0,0,1,1.24.57A5.48,5.48,0,0,1,11.27,11.58Z"/> <polygon points="7.74 23.46 7.74 26 10.15 26 10.15 23.42 7.74 23.46"/> </g> </svg> </svg> </span> <span class="pledge-description" id="pledge-description" style="display:inline-block;letter-spacing:initial;max-width: 90%;line-height:1.3!important; width: 90%; margin-bottom:5px; max-width: 350px; color:'+PPsCol+"!important;font-size:14px!important;font-weight:700!important; padding-right:20px!important;font-family: "+pp_fonts_bold+'!important;"> <strong id="pp-strong" style="color:'+PPsCol+"!important;font-size:14px!important;font-weight:700!important;font-family: "+pp_fonts_bold+'!important;line-height:1.3!important;"> <span id="pp_shop_name">This is a pre-order listing.</span> <br> <span class="pgrey" id="pp_middle_line" style="color:'+PPsCol+'!important; opacity: 0.6;">You will be sent a payment link by email</span> <br id="ppDesktopBreak"> <span id="pp_remaining_spots">50 remaining spots</span> <span id="pp_lock_in" class="pgrey" style="color:'+PPsCol+'!important; opacity: 0.6;">to lock in a</span> <span id="pp_discount"> 0% early bird discount.</span> </strong> </span> <div id="pp-button-div" class="pptop-bottom" onmouseover="this.style.opacity=0.8" onmouseout="this.style.opacity=1" style="padding-top:13px!important;padding-right:20px!important;padding-left:10px!important;padding-bottom:10px!important;"></div> <div id="pp_overlay" role="dialog" aria-modal="true"></div>';var r=document.getElementById("pp-button-div");r.style.paddingLeft="0px",r.style.paddingRight="0px",r.innerHTML='<span class="pp-cleanslate" id="pp-cleanslate" style="cursor:pointer; background: '+PPpCol+" !important;border-color: "+PPpCol+' !important;max-height:30px !important; padding-top: 0px !important; display: flex !important; align-items: center !important; justify-content: center!important; max-width: 350px !important;"> <a onclick="PPopenNav(); return false;" id="pp-cleanslate-anchor" role="button" aria-label="Pre-order" style="cursor:pointer;border-bottom:0px!important; width:350px;"><div class="pp-button-width" style="max-height: 45px; min-width: 100% !important;align-items: center!important; background-color:'+PPpCol+' !important; align-self: center!important; display: flex !important;justify-content: center !important;"> <svg id ="snippetButtonSVG" style="display:none; width:90%!important; align-self: stretch!important; height: initial!important;"; xmlns="http://www.w3.org/2000/svg" viewBox="0 0 361.05 71.54"></svg></div> </a> </span>',document.getElementById("pledge-description").style.paddingLeft="0px",document.getElementById("psvg-icon-span").style.whiteSpace="inherit",function(){if(!A())return;document.querySelector("#psvg-icon-span").style.display="none",document.querySelector("#pledge-description").style.display="none",document.querySelector("#pp-button-div").style.display="none",document.querySelector("[data-native-pre-order-btn-added]")||Array.from(N()).forEach((t=>{let e=L(t);e.addEventListener("click",$),e.addEventListener("click",D),t.removeAttribute("data-native-pre-order-btn"),t.setAttribute("data-native-pre-order-btn-added","")}));window.PP_storedButtons=null,Pt("hide")}();var a=document.getElementById("pp_overlay");document.body&&document.body.insertAdjacentElement("afterbegin",a),t.new_cart?a.innerHTML=`\n            <div id="pledge-details" class="pp-overlay"> <a href="javascript:void(0)" class="pp-overlay-close" role="button" aria-label="Close dialog" onclick="PPcloseNav()"> &times; </a> <div class="pp-overlay-content"> <div class="pp-cart"> <div class="pp-overlay-top"> <img class="pp-cart-header__image" onload="this.style.opacity=1" onerror="this.src='https://cdn.shopify.com/s/files/1/0311/5912/4099/products/white_1024x1024@2x.jpg?height=100'"> <div class="pp-overlay-loading"></div> </div> <div class="pp-overlay-main"> <div class="pp-safe pp-cart-container"> <div class="pp-cart-header pp-cart-ease-in"> <div class="pp-cart-header__branding"> <div class="pp-cart-header__avatar"> <span class="pp-cart-header__avatar-initials pp-safe"> A.B </span> <img class="pp-cart-easy-ease pp-cart-header__logo" onload="this.style.opacity=1" loading='lazy' onerror="this.src='https://cdn.shopify.com/s/files/1/0311/5912/4099/products/white_1024x1024@2x.jpg?height=100'" /> </div> <div class="pp-cart-header__title pp-safe" id="pp-display-text1"> All Birds Pre-orders </div> </div> </div> <form id="pp-variant-info" style="padding:0px;" class="pp-no-m-p"> <div class="pp-cart-section pp-cart-ease-in" style="height: min-content !important; max-height: 180px !important;"> <div id="pp-just-selects"> <div class="pp-cart-line-item pp-select-row" id="pp-select-row-0"> <div class="pp-cart-line-item__image-frame"> <img id="pp-cart-line-item-image-0" class="pp-cart-line-item__image pp-cart-easy-ease" onload="this.style.opacity=1" loading='lazy' onerror="this.src='https://cdn.shopify.com/s/files/1/0311/5912/4099/products/white_1024x1024@2x.jpg?height=100'"> </div> <div class="pp-cart-line-item__names"> <div class="pp-cart-line-item__product-name pp-dark-grey pp-safe"> Tree Dasher </div> <div class="pp-safe" style="margin: -2px 0px 0px 0px !important;"> <select class="pp-cart-line-item__variant-name pp-mid-grey pp-select-list pp-safe" id="pp-variantfield-0" form="pp-variant-info" onchange="PPonChange(this.id);" type="select" name="pp-variantSelect" autocomplete="on" placeholder="Variant Name" style="font-size: 11px !important;" onMouseOver="this.style.cssText = 'opacity: 0.5 !important';" onMouseOut="this.style.cssText = 'opacity:1 !important';"></select> </div> </div> <div class="pp-cart-line-item__quantity"> <div class="pp-cart-line-item__quantity"> <small class="pp-cart-line-item__quantity-x pp-dark-grey pp-safe"> x </small> <input type="number" value="1" id="pp-variantbutton-tally-0" min="0" max="500" inputmode="decimal" onclick="this.select();" class="pp-cart-line-item__quantity-tally pp-dark-grey pp-safe wsl"> </div> </div> <div class="pp-cart-line-item__quantity-adjust"> <button class="pp-cart-line-item__number-button pp-mid-grey pp-safe wsl" type="button" onclick="PPupdateTally(1, this.id);" id="pp-variantbutton-plus-0" onMouseOver="this.style.cssText = 'opacity: 0.5 !important';" onMouseOut="this.style.cssText = 'opacity:1 !important';"> + </button> <button class="pp-cart-line-item__number-button pp-mid-grey pp-safe wsl" type="button" onclick="PPupdateTally(-1, this.id);" id="pp-variantbutton-minus-0" onMouseOver="this.style.cssText = 'opacity: 0.5 !important';" onMouseOut="this.style.cssText = 'opacity:1 !important';"> - </button> </div> </div> </div> <div id="pp-cart-session-lines"></div> <div class="pp-cart-new-line-item"> <button class="pp-cart-line-item__number-button pp-mid-grey pp-safe wsl" type="button" onclick="PPnewSelect()" id="pp-create-new-select" onMouseOver="this.style.cssText = 'opacity: 0.5 !important';" onMouseOut="this.style.cssText = 'opacity: 1 !important';"> + </button> </div> </div> </form> <div class="pp-cart-divider-section pp-cart-ease-in"> <div class="pp-cart-divider" style="display:block;"></div> <div class="pp-cart-standalone-text pp-mid-grey pp-safe"> Total: <span class="pp-dark-grey"> <span id="pp-display-text6b">${t.currency}</span> <span id="pp-display-text7">20.00</span> </span> </div> <div class="pp-cart-divider" style="display:block;"></div> </div> <div> <div class="pp-cart-pre-order-details-section pp-cart-ease-in pp-safe"> <span class="pp-display-text4" id="pp-display-text4"> You will receive a <strong id="pp-display-text4-inner">0%</strong> early bird discount. </span> <span id="pp-display-text5-inner" class="pp-cart-pre-order-details-text"> We expect the product to ship in </span> <strong id="pp-display-text5-inner2" class="pp-cart-pre-order-details-text-bold pp-safe">0 days</strong> <span id="pp-display-text5-inner3" class="pp-cart-pre-order-details-text"></span> <span id="pp-display-text3" class="pp-cart-pre-order-details-text"> <span class="pp-cart-pre-order-details-text" id="pp-display-text3-inner"></span> Enter your <strong class="pp-cart-pre-order-details-text-bold pp-safe">name + email</strong> below and we will send you <strong class="pp-cart-pre-order-details-text-bold pp-safe">a payment link in the near future.</strong> </span> </div> </div> <form id="pp-customer-info" class="subscribe"> <div class="pp-cart-section-notes pp-cart-ease-in"> <input id="pp-field-4" style="" type="text" placeholder="+ Note" name="pp-customernotes" autocomplete="off" class="pp-cart-standalone-text pp-cart-notes__input pp-dark-grey pp-safe wsl" /> </div> <div class="pp-cart-section-bottom pp-cart-ease-in"> <div class="pp-cart-bottom-element pp-cart-flex"> <div class="pp-cart-bottom-field-container" style="padding-right: 3px; !impoortant"> <input id="pp-field-1" class="pp-cart-bottom-field pp-safe wsl" type="text" name="pp-customername" placeholder="First name" autocomplete="on" required="required" ${pt("","","getName")}> </div> <div class="pp-cart-bottom-field-container" style="padding-left: 3px !important;"> <input id="pp-field-2" class="pp-cart-bottom-field pp-safe wsl" type="email" placeholder="Email" name="pp-customeremail" autocomplete="on" required="required" ${pt("","","getEmail")}> </div> </div> <div class="pp-cart-bottom-element pp-cart-cta-container"> <span class="pp-cleanslate1" id="pp-cleanslate1"> <a id="pp-cleanslate1-anchor" role="button" aria-label="pre-order" style="display:block; text-decoration:none; border: transparent 0px none !important;" href="" onclick="PPpledge(); return false;"> <div class="pp-button-width1" onMouseOver="this.style.cssText = 'opacity: 0.8!important';" onMouseOut="this.style.cssText = 'opacity: 1 !important';"> <svg id="overlayButtonSVG" style="display:none; width: 60% !important; height:initial!important;" ; xmlns="http://www.w3.org/2000/svg" viewBox="0 0 361.05 71.54"> </svg> </div> </a> </span> </div> </div> </form> </div> </div> </div> <div class="pp-disclaimer-container"> <small id="pp-dislaimer" class="pp-disclaimer pp-safe"> All payments will be processed through this stores checkout. <br> <div> <a href="https://www.preproduct.io" class="pp-safe" target="_blank" style="color: #808080!important;font-size: 8pt !important; line-height: 2.5;"> Powered by PreProduct.io </a> </div> </small> </div> </div> </div>  \n        `:a.innerHTML='<div id="pledge-details" class="ppoverlay" style="height: 0%!important; width: 100%!important;position: fixed!important; z-index: 1000!important; left: 0!important;top: 0!important; background-color: rgb(255,255,255)!important; background-color: rgba(255,255,255, 0.95)!important; overflow-x: hidden!important; pp_trsition: 0.5s!important; "><a href="javascript:void(0)" style="position: absolute !important; top: 0px!important; right: 25px !important; font-size: 45px !important; color: '+PPsCol+'   !important; text-decoration: none !important;"class="closebtn" onclick="PPcloseNav()"> &times; </a><div class="overlay-content" style="position: relative!important; top: 5%!important; width: 100%!important; padding-left: 1.25rem!important; padding-right: 1.25rem!important; text-align: center!important; margin-top: 50px!important;"> <br> <p class="pp-display-text" id="pp-display-text1" style=" font-size: 22px !important; font-weight: 700 !important; line-height: 1.5 !important;font-family:'+pp_fonts_bold+"; color: "+PPsCol+'!important;margin: 0 0 0px!important;">This is a pre-order listing.</p> <p class="pp-display-text" id="pp-display-text2" style=" font-size: 22px !important; font-weight: 700 !important; line-height: 1.5 !important;font-family:'+pp_fonts_reg+"; color: "+PPsCol+'!important;margin: 0 0 0px!important;"> - </p> <p class="pp-display-text" id="pp-display-text4" style=" font-size: 22px !important; font-weight: 700 !important; line-height: 1.5 !important;font-family: '+pp_fonts_reg+"; color: "+PPsCol+'!important;margin: 0 0 0px!important;"> You will receive a <mark id="pp-display-text4-inner" style="background-color: '+PPsCol+' !important; color: white !important; padding: 1px !important; padding-left: 4px !important; padding-right: 4px !important;">0%</mark> early bird discount. </p> <div class="pp-display-text" id="pp-display-text5" style=" font-size: 22px !important; font-weight: 700 !important; line-height: 1.5 !important;font-family: '+pp_fonts_reg+"; color: "+PPsCol+'!important;margin: 0 0 0px!important;"> <span class="pp-display-text" id ="pp-display-text5-inner" style=" font-size: 22px !important; font-weight: 700 !important; line-height: 1.5 !important;font-family: '+pp_fonts_reg+"; color: "+PPsCol+'!important;margin: 0 0 0px!important;">We expect the product to ship in </span> <span> <mark id="pp-display-text5-inner2" style=" font-size: 22px !important; font-weight: 700 !important; line-height: 1.5 !important;font-family: '+pp_fonts_reg+"; margin: 0 0 0px!important; background-color: "+PPsCol+' !important; color: white !important; padding: 1px !important; padding-left: 4px !important; padding-right: 4px !important;">0 days</mark> <span id="pp-display-text5-inner3" class="pp-display-text" style=" font-size: 22px !important; font-weight: 700 !important; line-height: 1.5 !important;font-family: '+pp_fonts_reg+"; color: "+PPsCol+'!important;margin: 0 0 0px!important;"></span> </span> </div> <br> <p class="pp-display-text" id="pp-display-text3" style=" font-size: 22px !important; font-weight: 700 !important; line-height: 1.5 !important;font-family: '+pp_fonts_reg+"; color: "+PPsCol+'!important;margin: 0 0 0px!important;"> You will be sent a payment link once <mark id="pp-display-text3-inner" style="background-color: '+PPsCol+' !important; color: white !important; padding: 1px !important; padding-left: 4px !important; padding-right: 4px !important;">0 people order</mark> </p> <p class="pp-display-text" style=" font-size: 22px !important; font-weight: 700 !important; line-height: 1.5 !important;font-family: '+pp_fonts_reg+"; color: "+PPsCol+'!important;margin: 0 0 0px!important;">-</p> <span id="pp-bottom-para-span"style="width: 400px!important; display: block!important;margin-left: auto!important;margin-right: auto!important;"> <p id="pp-bottom-para" class="pp-display-text-small" style=" font-size: 16px !important; font-weight: 500 !important; line-height: 1.4 !important;font-family: '+pp_fonts_reg+"; color:"+PPsCol+' !important;margin: 0 0 0px!important;" > You will then be able to enter your payment details and receive the <mark id="pp-display-text6" style="background-color: '+PPsCol+'!important;color: white !important;padding: 1px 4px !important;">%0</mark> discount for a total of <mark id="pp-display-text6b" style= background-color: '+PPsCol+' !important;color: white !important;padding: 1px 4px !important;">$</mark> <mark id="pp-display-text7" style="background-color: '+PPsCol+' !important;color: white !important;padding: 1px 4px 1px 1px !important;"></mark> excluding shipping. Look for updates via our social media channels or email. </p> </span> <br> <div class="subscribe-box" style="font-family: '+pp_fonts_bold+'!important; font-size: 30px!important; font-size: 30px!important; text-align: center!important; padding-bottom: 20px!important; "> <form id = "pp-variant-info" class="subscribe" style="width: 100%!important; max-width: 600px!important; margin: auto!important;"> <span id="pp-just-selects"> <span style="display:block;" id="pp-select-row-0" class="pp-select-row"> <span style="display:inline!important;position:relative!important;"> <select id="pp-variantfield-0" class="pp-select-list" form="pp-variant-info" onchange="PPonChange(this.id);" style="text-align-last: left; height: 50px !important; background-color: rgb(255, 255, 255, 0.0) !important; border-radius: 0px !important; background-image: none; -webkit-appearance: none; -moz-appearance: none; display: inline;width: 410px;border-width: 1.5px 0px 1.5px !important;border-top-style: initial !important;border-right-style: initial !important;border-left-style: initial !important;border-image: initial !important;border-bottom-style: solid ;border-top-style: solid !important;border-style: solid !important;padding: 0.75em 80px 0.75em 15px !important;text-align: center !important;font-size: 16px !important;font-family: '+pp_fonts_bold+' !important;/* border-radius: 5px; */font-weight: 600 !important;line-height: 1 !important;color: #666666!important;outline: none !important;border-color: #666666!important; text-decoration: underline !important" type="select" name="pp-variantSelect" placeholder="Variant Name" autocomplete="off"></select> <button class="pp-btn" type="button" onclick="PPupdateTally(-1, this.id);" id="pp-variantbutton-minus-0" style="width: 30px! important; min-width: 20px !important; background-color: #fff; outline: none !important; right: 60px!important; position: absolute !important; bottom: 0px !important; background: none!important; border: none!important; color: #666666!important; padding: 10px 30px 0px 5px !important; font-size: 25px!important; margin-bottom: -5px !important; cursor: pointer;border-radius: 2px!important; font-family: '+pp_fonts_bold+' !important; font-weight: 500 !important; opacity:0.5;" onMouseOver="this.style.opacity=0.5;" onMouseOut="this.style.opacity=1;">-</button> <input type="number" value="1" id="pp-variantbutton-tally-0" min="0" max="500" inputmode="decimal" onclick="this.select();" style="text-align: center !important; block-size: unset !important; min-width:30px!important;margin-left: auto !important;margin-right: -7px !important;max-width: 50px !important;right: 25px!important;position: absolute !important;bottom: 0px !important;background: none!important;border: none!important;color: #666666!important;padding: 10px 3px 0px 3px !important;font-size: 20px!important;margin-bottom: -2px !important;border-radius: 2px!important;font-family: '+pp_fonts_bold+' !important;font-weight: 500 !important;"> <button class="pp-btn" type="button" onclick="PPupdateTally(1, this.id);" id="pp-variantbutton-plus-0" style="width: 30px!important; min-width: 20px !important; outline: none !important; right: 0px!important; position: absolute !important; bottom: 0px !important; background-color: #fff; background: none!important; border: none!important; color: #666666!important; padding: 10px 3px 0px 2px !important; font-size: 25px!important; margin-bottom: -5px !important; cursor: pointer;border-radius: 2px!important; font-family: '+pp_fonts_bold+' !important; font-weight: 500 !important;" onMouseOver="this.style.opacity=0.5;" onMouseOut="this.style.opacity=1;">+</button> </span> </span> </span> <span style="display:block;padding-top: 10px !important; padding-bottom: 10px !important;"> <button class="pp-btn" type="button" onclick="PPnewSelect()" id="pp-create-new-select" style="width: 100%!important; !important; outline: none !important; background: none!important; border: none!important; color: #666666!important; padding: 0px !important; font-size: 25px!important; margin-bottom: -5px !important; cursor: pointer;border-radius: 2px!important; font-family: '+pp_fonts_bold+' !important; font-weight: 500 !important; margin-top: -20px !important;" onMouseOver="this.style.opacity=1;" onMouseOut="this.style.opacity=0.5;">+</button> </span> </form> <form id = "pp-customer-info" class="subscribe" style="width: 100%!important; max-width: 600px!important; margin: auto!important; margin-top: -10px !important;"> <span style="display:block; padding-bottom:5px;"> <input id="pp-field-4" style="width: 410px!important; background-color: rgb(255, 255, 255, 0) !important; margin-left: auto !important; margin-right: auto !important; border: 0!important; border-bottom: 2px solid!important; padding: 1em 0 1em!important; text-align: center!important; font-size: 16px!important; font-family: '+pp_fonts_reg+'!important; font-weight: 600!important; line-height: 1!important; color: #666666!important; outline: none!important; border-color:#666666!important;" type="text" placeholder="Order notes" name="pp-customernotes" autocomplete="off" /> </span> <span style="display:block;"> <input id="pp-field-1"'+pt("","","getName")+' style = "width: 25rem!important; display: inline !important; background-color: rgb(255, 255, 255, 0) !important; border: 0!important; border-bottom: 2px solid!important; padding: 1em 1em!important; text-align: center!important; font-size: 16px!important; font-family: '+pp_fonts_reg+'!important; font-weight: 600!important; line-height: 1!important; color: #666666!important; outline: none!important; border-color: #666666 !important;" type="text" name="pp-customername" placeholder="First name" autocomplete="off" required="required"/> <input id="pp-field-2" '+pt("","","getEmail")+' style="width: 25rem!important; background-color: rgb(255, 255, 255, 0) !important; display: inline !important; border: 0!important; border-bottom: 2px solid!important; border-color: #666666 !important; padding: 1em 0 1em!important; text-align: center!important; font-size: 16px!important; font-family: '+pp_fonts_reg+'!important; font-weight: 600!important; line-height: 1!important; color: #666666!important; outline: none!important;" type="email" placeholder="Email" name="pp-customeremail" autocomplete="off" required="required"/> </span> </form> </div> <div class="pp-align-center" style="display:flex !important; margin-top: 0px; justify-content: center !important;padding-bottom: 10px!important;text-align: center!important; margin-left: auto!important; margin-right: auto!important;"><span class="pp-cleanslate1" id="pp-cleanslate1" style="cursor:pointer; background: '+PPpCol+" !important;border-color: "+PPpCol+' !important;max-height:30px !important; display: flex !important; align-items: center !important; justify-content: center!important; max-width: 250px !important;"> <a id="pp-cleanslate1-anchor" role="button" aria-label="pre-order" style="display:block; text-decoration:none; border: transparent 0px none !important;" href="" onclick="PPpledge(); return false;"><div class="pp-button-width1" style="max-height: 45px; min-width: 250px !important;align-items: center!important; background-color:'+PPpCol+' !important; align-self: center!important; display: flex !important;justify-content: center !important;"> <svg id="overlayButtonSVG" style="display:none; width:90%!important; height: initial!important; align-self: stretch!important;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 361.05 71.54"> </svg></div> </a> </span></div> <span style="max-width:350px!important; display:inline-block!important;"> <small id="pp-dislaimer"style="font-family: '+pp_fonts_reg+'!important;font-weight: 400!important;text-align: center!important;font-size:12.5px!important;line-height: 12px !important;">All payments will be processed through this store&#39;s checkout.</small> </span> </div> </div> ',t.new_cart&&(document.querySelector(".pp-cart-line-item__product-name").innerText=It(t.name,20),document.querySelector(".pp-cart-line-item__product-name").title=t.name);var o=g(),p=meta.product.variants;if(o&&p.find((t=>t.id==o)))var s=p.find((t=>t.id==o)),d=c(s.price),l=(l=(l=s.name).replace(/<\/?[^>]+(>|$)/g," ")).split(" - ")[0];else d=c(p[0].price||t.discounted_price),l=(l=(l=p[0].name).replace(/<\/?[^>]+(>|$)/g," ")).split(" - ")[0];var m=document.getElementById("pp-variantfield-0");p.forEach((function(t){var e=document.createElement("option");e.value=t.id;var i=t.name.replace(/<\/?[^>]+(>|$)/g," ");p.length>=2&&(i=i.slice(i.lastIndexOf(" -"))),i=It(i=i.replace("-",""),30),e.innerHTML=i,m.appendChild(e)}));var u=document.getElementById("pp-variantbutton-tally-0");u.addEventListener("input",(function(){F(0,this.id)}),!1),is_IosDevice=!!navigator.platform.match(/iPhone|iPod|iPad/),is_IosDevice&&(u.style.right="30px");try{t.new_cart?document.getElementById("pp-display-text4").outerHTML=pp_tr["pp-display-text4-new-cart"]:document.getElementById("pp-display-text4").outerHTML=pp_tr["pp-display-text4"]}catch{}document.getElementById("pp-dislaimer").innerHTML=pp_tr["pp-dislaimer"],document.getElementById("pp-field-4").placeholder=pp_tr.notes,document.getElementById("pp-field-1").placeholder=pp_tr["first-name"],document.getElementById("pp-field-2").placeholder=pp_tr.email,t.new_cart?document.getElementById("pp-display-text3").outerHTML=pp_tr["pp-display-text3-base-new-cart"]:document.getElementById("pp-display-text3").outerHTML=pp_tr["pp-display-text3-base"],document.getElementById("pp-bottom-para")&&(document.getElementById("pp-bottom-para").innerHTML=pp_tr["pp-bottom-para-a"]+'<mark id="pp-display-text6" style="background-color:'+PPsCol+'!important;color: white!important;padding: 1px 4px!important;">'+t.discount+"%</mark>"+pp_tr["pp-bottom-para-b"]+'<mark id="pp-display-text6b" style="background-color:'+PPsCol+'!important;color: white!important;padding: 1px 4px!important;">'+t.currency+'</mark><mark id="pp-display-text7" style="background-color: '+PPsCol+' !important;color: white !important;padding: 1px 4px 1px 1px !important;">'+d+"</mark>"+pp_tr["pp-bottom-para-c"]+t.shop_name+pp_tr["pp-bottom-para-d"]);var y=t.discount+pp_tr.discount_phrase;t.discount>=1?document.getElementById("pp_discount").innerHTML=y:document.getElementById("pp_discount").innerHTML=pp_tr.place,document.getElementById("pp-display-text5-inner").innerHTML=pp_tr["pp-display-text5-inner-a"]+It(l,35)+pp_tr["pp-display-text5-inner-b"],t.different_lead_time?document.getElementById("pp-display-text5-inner2").innerHTML=t.different_lead_time+".":document.getElementById("pp-display-text5-inner2").innerHTML=t.lead_time+pp_tr["pp-display-text5-inner2"],document.getElementById("pp-display-text5-inner3").innerHTML="",document.getElementById("pp-display-text4-inner").innerHTML=t.discount+"%",0==t.discount&&Shopify.locale.includes("pt")?(document.getElementById("pp_discount").style.display="none",document.getElementById("pp_lock_in").innerHTML="para finalizar essa oferta."):document.getElementById("pp_lock_in").innerHTML=pp_tr.lockin;var S=document.getElementById("pp-display-text4");0==t.discount&&(S.style.display="none"),t.custom_front_end?document.getElementById("pp-display-text1").innerHTML=pp_tr["pp-display-text1"]:document.getElementById("pp-display-text1").innerHTML=t.shop_name+pp_tr["pp-display-text1"];var C=document.getElementById("pp-bottom-para");if(0==t.discount&&!t.new_cart&&(C.style.display="none"),meta.product.variants.length<=1){let e=document.getElementById("pp-create-new-select");e.innerHTML="-",e.style.color="black",e.style.opacity=1,t.new_cart&&e.classList.add("pp-cart-line-item__number-button--single-variant"),e.removeAttribute("onmouseover"),e.removeAttribute("onmouseout"),e.removeAttribute("onclick"),e.style.cssText="cursor:auto !important; background:none !important; border:none !important;"}var B=window.matchMedia("(max-width: 600px)");if(b(B),B.addListener(b),v(B),B.addListener(v),rt(),window.addEventListener("locationchange",Ct),function(){let t=new MutationObserver((function(t){for(let n of t)"childList"===n.type&&(e=n.target,i=n.target.previousElementSibling,e&&e.querySelector("path")&&(e.style.display="block",i.style.display="none"));var e,i}));document.querySelectorAll("#snippetButtonSVG, #overlayButtonSVG").forEach((e=>{e.insertAdjacentHTML("beforeBegin",`\n            <div class="pp-safe pp-button-text" style="color:white; text-align:center; font-size:16px; font-weight:600; letter-spacing:0.5px; flex-grow:1; flex-basis:100%; height:45px !important; line-height:45px !important;"> \n                ${function(){let t=I().dataset?.nativePreOrderBtn||window.pp_tr["pp-button-text"]||window.pp_tr["pp-native-btn-text"],e=window.Shopify||{};if(t)return t;return e.locale?.includes("pt")?"pre-encomenda":e.locale?.includes("es")?"Reserva":e.locale?.includes("cs")?"Předobjednávka":e.locale?.includes("de")?"Vorbestellung":e.locale?.includes("fr")?"Précommander":e.locale?.includes("it")?"Preordina":e.locale?.includes("ja")?"予約注文":"Pre-order"}()}\n            </div>\n            `),t.observe(e,{attributes:!1,childList:!0,subtree:!1})}))}(),t.new_cart){P();let t=document.getElementById("pp-display-text3"),e=document.querySelector(".pp-cart-pre-order-details-section");t.outerHTML.includes("<strong>")||(t.innerHTML=t.innerHTML.replace("name","<strong>name</strong>"),t.innerHTML=t.innerHTML.replace("email","<strong>email</strong>")),t.outerHTML=t.outerHTML.replace("<br>",""),e.outerHTML=e.outerHTML.replace("<br>","")}if(ft()&&E(),document.getElementById("pp_middle_line").innerHTML=pp_tr.pp_middle_line,t.deposit_price||t.deposit_selling_plan_id){let e=c(Z(t.deposit_price)),i=t.deposit_percentage?`${t.deposit_percentage}%`:`${yt()}${e}`;document.getElementById("pp_remaining_spots").innerHTML=`${pp_tr.pp_deposits_button_text||"Pay a deposit of "}${i}`}else document.getElementById("pp_remaining_spots").innerHTML=pp_tr.pp_remaining_spots;if(document.getElementById("pp_shop_name").innerHTML=pp_tr.pp_shop_name,document.getElementById("pp-snippet-icon").innerHTML=i,document.getElementById("pp-display-text1").style.textShadow="0.2px 0.2px 0 "+PPsCol+", 0.2px 0.2px 0 "+PPsCol+", 0.2px 0.2px 0 "+PPsCol+", 0.2px 0.2px 0 "+PPsCol,document.getElementById("pp-display-text1").style.fontSize="28px",document.getElementById("pp-display-text1").style.paddingBottom="0px","olivia-rocco.myshopify.com"!=Shopify.shop&&(document.getElementById("pp-dislaimer").innerHTML=pp_tr["pp-dislaimer"]),window.innerWidth>600?document.getElementById("pledge-description").style.marginLeft="-19px":(document.getElementById("pp-display-text1").style.fontSize="24px",document.getElementById("pp-display-text1").style.paddingBottom="0px",document.getElementById("pledge-description").style.paddingRight="0px",document.getElementById("pledge-description").style.width="90%",document.getElementById("psvg-icon-span").style.marginRight="-20px"),t.charge_later_selling_plan_id&&!t.payment_email_sent)document.getElementById("pp_middle_line").innerHTML=pp_tr.pp_charge_later_middle_line,document.getElementById("pp-display-text3").innerHTML=pp_tr["pp-display-text3-charge-later"];else if(t.deposit_price||t.deposit_selling_plan_id)if(document.getElementById("pp_middle_line").innerHTML=pp_tr.pp_charge_later_middle_line,pp_tr["pp-display-text3-deposit-cta-1"]){let t=pp_tr["pp-display-text3-deposit-cta-1"],e=t.slice(-1);last_letter_code=e.match(/[$£€¥]/)?`<strong>${yt()}</strong>`:e;let i=t.slice(0,-1)+last_letter_code;document.getElementById("pp-display-text3").innerHTML=`<span id="pp-display-text3-deposit-cta-1">${i}</span> <strong id="pp-current-deposit-price" style="margin-left:-2px;">${J()}</strong> <span id="pp-display-text3-deposit-cta-2">${pp_tr["pp-display-text3-deposit-cta-2"]}</span>`}else document.getElementById("pp-display-text3").innerHTML=pp_tr["pp-display-text3-deposit"];if(t.new_cart&&(document.getElementById("pp-display-text6b").innerText=yt()),t.payment_email_sent&&!t.custom_front_end){document.getElementById("pp_middle_line").style.display="none",document.getElementById("ppDesktopBreak").style.display="none";let e=document.getElementById("pp-display-text3"),i="checkout"==t.frontend_charge_redirect?"and click below to be forwarded to checkout":"and click below to add to your cart";e.innerText=e.innerText.replace("and we will send you a payment link in the near future",i)}else!pp_tr.pp_charge_later_middle_line&&gt()?document.getElementById("ppDesktopBreak").style.display="none":pp_tr.pp_middle_line||gt()||(document.getElementById("ppDesktopBreak").style.display="none");const O=new CustomEvent("ppJustLaunched",{detail:mt()});dispatchEvent(O)}function Pt(t){if(!window.PP_storedButtons){window.PP_storedButtons=[];B().querySelectorAll('\n            button[type="submit"], \n            button[name="add"], \n            button[class*="add-to-cart"],\n\t\t\tbutton[id*="add-to-cart"],\n\t\t\tbutton[id*="addToCart"],\n            button[data-add-to-cart],\n\t\t\tbutton[data-product-id],\n            input[type="submit"],\n\t\t\tinput[name="add"],\n\t\t\tinput[data-add-to-cart],\n\t\t\tdiv.shopify-payment-button,\n\t\t\t[data-native-pre-order-btn-added]\n        ').forEach((t=>{window.PP_storedButtons.push(t)}))}window.PP_storedButtons.forEach((e=>{St(e)&&(e.style.display="show"===t?"":"none")}))}function Et(t){let e=T(),i=t?"":"none",n=t?"10px 0px 10px 0px":"0px",r=t?"190px":"0px";if(A())return Array.from(N()).forEach((t=>{t.style.display=i,""==i&&(t.disabled=!1)})),void document.querySelectorAll("#pp-native-btn-companion-text").forEach((t=>{t.style.display=i}));S()&&(S().style.display=i),e&&(e.style.display=i,e.style.padding=n,e.style.height=r)}function St(t){return!(["search","menu","close","quantity","plus","minus","decrease","increase","gallery","media","zoom","thumbnail","previous","next","pp-no-hide","pp-variantbutton","wsl","shopify-payment-button__button"].some((e=>t.className?.toLowerCase()?.includes(e)||t.id?.toLowerCase()?.includes(e)))||q(t))}function It(t,e){return t?t.length<=e?t:t.slice(0,e)+"...":"..."}function Tt(t){return Object.keys(t).reduce(((e,i)=>e+parseFloat(t[i]||0)),0)}function kt(){try{history.pushState=(t=history.pushState,function(){var e=t.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange")),e}),history.replaceState=(t=>function(){var e=t.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange")),e})(history.replaceState),window.addEventListener("popstate",(()=>{window.dispatchEvent(new Event("locationchange"))}))}catch(t){console.log(t)}var t;let e=document.querySelector('[action*="cart/add"], [action*="cart.php"]');e&&e.addEventListener("change",(()=>{window.dispatchEvent(new Event("locationchange"))}))}function Ct(){setTimeout((()=>{rt()}),50)}function Bt(t=!0){try{Pt("show"),document.querySelector("[data-native-pre-order-btn-added]")?Et(!1):document.querySelector("[data-native-pre-order-btn]")||Et(!1),H()}catch(t){}window.PP_storedButtons=null,t?(window.preproduct=null,S()&&(window.PPisHeadless=!0,window.removeEventListener("locationchange",Ct),At())):window.preproduct?.id&&wt()}async function At(){let t=S();if(t){let r=window.Shopify?.shop||t.dataset.domain||window.ppTesting?.domain||window.location.hostname;if(T())var e=t.dataset.id,i=`${PP_MAIN_LISTING_ENDPOINT_BASE}${e}.json?shop=${r}`;else{var n=t.dataset.startingVariant;e=t.dataset.id;if(n)i=`${PP_GET_LISTINGS_ENDPOINT}/${n}.json?shop=${r}&includes=shop`;else if(e)i=`${PP_MAIN_LISTING_ENDPOINT_BASE}${e}.json?shop=${r}`}if(await fetch(i).then((t=>{if(t.ok)return 204==t.status?{}:t.json();throw new Error(`HTTP error! status: ${t.status}`)})).then((t=>{t&&"active"==t.test_status?window.preproduct=t:"active"==t.preproduct?.test_status&&(window.preproduct=u(t))})).catch((t=>{console.error("Error fetching data:",t)})),window.preproduct&&"active"==preproduct.test_status){let t=1==Object.keys(preproduct.current_variant_sales||{}).length?g():null,e="cart_without_redirect"==preproduct.frontend_charge_redirect;s(t,e),d(),Pt("hide"),kt(),wt()}}}const Nt={PPgoHeadless:f,PPapplySellingPlanDiscounts:_,PPgetTrans:x,PPbuttonflex:b,PPoverlaybuttonflex:v,PPaddFonts:w,PPloadStyle:async function(){var t=document.createElement("style");t.type="text/css",t.id="pp-style",t.innerHTML=`\n        .pp-overlay{ height:0%; width:100%!important; position:fixed!important; z-index:1000!important; left:0!important; top:0!important; background-color:rgba(255,255,255,.95)!important; overflow-x:hidden!important } .pp-cart{ display:flex!important; margin:-10px -10px 0 -10px!important } .pp-overlay-close{ position:absolute!important; top:0!important; right:25px!important; font-size:45px!important; color:rgb(213 212 211); text-decoration:none!important; z-index:10!important; font-family:-apple-system,BlinkMacSystemFont,San Francisco,Segoe UI,Roboto,Helvetica Neue,sans-serif!important; border:0!important } .pp-overlay-content{ position:relative!important; width:100%!important; text-align:center!important } .pp-safe{ font-family:-apple-system,BlinkMacSystemFont,San Francisco,Segoe UI,Roboto,Helvetica Neue,sans-serif!important; box-sizing:content-box!important; letter-spacing:initial; line-height:normal!important; top:0; bottom:0; right:0; left:0; height:auto!important; max-height:initial!important; min-height:initial!important; box-shadow:none!important; outline:0!important; text-decoration:none; } .pp-no-m-p{ padding:0!important; margin:0!important; top:0; bottom:0; left:0; right:0 } .pp-dark-grey{ color:rgb(40 49 50)!important } .pp-mid-grey{ color:rgb(134 134 145)!important } .pp-light-grey{ color:rgba(213 212 211 / 30%)!important } .pp-white-space-top-3{ margin-top:3px!important } .pp-cart-flex{ display:flex!important } .pp-cart-easy-ease{ opacity:0; -webkit-transition:all 2s ease!important; -moz-transition:all 2s ease!important; -ms-transition:all 2s ease!important; -o-transition:all 2s ease!important } .pp-cart-ease-in{ opacity:0; -webkit-transition:all .5s ease!important; -moz-transition:all .5s ease!important; -ms-transition:all .5s ease!important; -o-transition:all .5s ease!important } .pp-overlay-top{ height:200px!important; background:#fff!important; width:100%!important } .pp-overlay-loading{ height:4px!important; width:0%; background: ${window?.preproduct?.brand_colours?.main} !important; -webkit-transition:all .6s ease-in-out!important; -moz-transition:all .6s ease-in-out!important; -ms-transition:all .6s ease-in-out!important; -o-transition:all .6s ease-in-out!important; padding:0!important; margin:0!important; line-height:0; border:0; display:block } .pp-overlay-main{ width:100%!important; margin:60px 0 0 -100%!important; display:flex!important; flex-direction:row!important; justify-content:center!important } .pp-cart-container{ width:100%!important; max-width:390px!important; min-height:640px!important; margin-top:35px!important; overflow:hidden!important; border:solid 1px rgb(217 217 217 / 50%)!important; border-radius:20px!important; background:#fff!important; box-sizing:content-box } .pp-cart-header{ display:flex!important; flex-direction:column!important; justify-content:center!important; color:rgb(40 49 50)!important; height:110px!important; min-height:110px!important; padding:35px 15px 15px 15px!important; box-sizing:content-box!important } .pp-cart-section{ border:solid 1px rgb(217 217 217 / 50%)!important; border-radius:7.5px!important; padding:7px!important; margin:10px 15px!important; max-height:110px!important; overflow-y:auto!important; box-sizing:content-box; background-color:transparent } .pp-cart-section-bottom{ display:flex!important; padding-bottom:7px!important; margin:10px 15px!important; height:160px!important; justify-content:center!important; align-items:flex-end!important; align-content:flex-end!important; flex-wrap:wrap!important; box-sizing:content-box } .pp-cart-header__image{ width:100%!important; height:100%!important; object-fit:cover!important; display:block!important } .pp-cart-header__branding{ text-align:center!important; margin-left:auto!important; margin-right:auto!important } .pp-cart-header__avatar{ border-radius:50%!important; background:rgb(217 217 217 / 30%)!important; width:80px!important; height:80px!important; overflow:hidden!important; position:relative!important; display:flex!important; flex-direction:column!important; justify-content:center!important; margin:0 auto 7px auto!important } .pp-cart-header__avatar-initials{ color:rgb(40 49 50)!important; font-weight:500!important; font-size:29px!important; letter-spacing:4px!important; text-align:center!important } .pp-cart-header__title{ font-weight:500!important; font-size:18px!important } .pp-cart-header__logo{object-fit: contain !important; padding:10px!important; mix-blend-mode:multiply } .pp-cart-line-item{ display:flex!important; flex-direction:row!important; justify-content:flex-start!important; align-items:center!important; padding-bottom:8px!important; border-bottom:solid 1px rgb(217 217 217 / 50%)!important; padding-top:6px!important } .pp-cart-line-item__image-frame{ background:rgb(217 217 217 / 50%)!important; border-radius:7.5px!important; flex-basis:55px!important; height:40px!important; display:flex!important; flex-direction:column!important; justify-content:center!important; align-items:center!important } .pp-cart-line-item__image{ width:55px!important; height:40px!important; object-fit:cover!important; mix-blend-mode:multiply } .pp-cart-line-item__names{ flex-basis:200px!important; padding:0 5px 0 7px!important; display:flex!important; flex-direction:column!important; justify-content:center!important; align-items:flex-start!important; flex-grow:1!important } .pp-cart-line-item__product-name{ font-size:15px!important; font-weight:600!important; text-align-last:left!important; background-color:rgb(255,255,255,0)!important; overflow:hidden!important; width:100%!important; height:18px!important; text-align:left!important; max-width:200px!important } .pp-cart-line-item__variant-name{ font-size:11px!important; letter-spacing:0!important; font-weight:600!important; padding-top:1px!important; border-radius:0!important; background-image:none!important; background:url('data:image/svg+xml; utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M12,14.1c-0.5,0-1-0.2-1.3-0.6l-3-3c-0.4-0.4-0.4-1,0-1.4c0.2-0.2,0.4-0.3,0.7-0.3c0.3,0,0.5,0.1,0.7,0.3l3,3 l3-3c0.2-0.2,0.4-0.3,0.7-0.3c0.3,0,0.5,0.1,0.7,0.3s0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-3,3C13,13.9,12.5,14.1,12,14.1z" fill="rgb(134 134 145)" /><path d="M0,0h24v24H0V0z" fill="none"/></svg>') 100% 50% no-repeat transparent!important; -moz-appearance:none!important; -webkit-appearance:none!important; appearance:none!important; border-top-style:initial!important; border-right-style:initial!important; border-left-style:initial!important; border-image:initial!important; border-width:0!important; padding:2px 20px 5px 2px!important; margin:0!important; display:inline!important; width:unset!important } .pp-cart-line-item__quantity-area{ display:flex!important; flex-direction:row!important } .pp-cart-line-item__quantity{ display:flex!important; align-items:center!important; height:40px!important; justify-content:flex-end!important; flex-basis:auto!important } .pp-cart-line-item__quantity-tally{ font-weight:400!important; font-size:23px!important; flex-basis:25px!important; width:25px!important; flex:0 1 auto!important; padding-left:2px!important; block-size:unset!important; bottom:0!important; background:0 0!important; border:none!important; padding-right:0!important; border-radius:0!important; min-width:12px!important; margin-top:2px!important; -webkit-appearance:none!important; -moz-appearance:textfield!important; margin:0!important } .pp-cart-line-item__quantity-x{ font-weight:600!important; font-size:15px!important; flex-basis:8px!important; flex-grow:1!important; text-align:right!important; margin-bottom:2px!important } .pp-cart-line-item__quantity-adjust{ flex-basis:30px!important; display:flex!important; flex-direction:column!important; align-items:center!important; justify-content:center!important; height:40px!important } .pp-cart-line-item__number-button{ margin: 0px; cursor:pointer!important; outline:0!important; bottom:0!important; background:0 0!important; border:none!important; border-radius:0!important; opacity:1!important; color:rgb(134 145 135)!important; font-size:19px!important; font-weight:600!important; width:auto!important; padding:0!important } .pp-cart-line-item__number-button--single-variant{color: rgb(217 217 217 / 50%) !important;} .pp-cart-new-line-item{ display:flex!important; flex-direction:row!important; align-items:center!important; justify-content:center!important; height:40px!important; margin-bottom:-10px!important } .pp-cart-divider-section{ border:none!important; margin:10px 15px!important; display:flex!important; align-items:center!important } .pp-cart-divider{ border-bottom:1px solid rgba(213 212 211 / 50%)!important; flex-grow:1!important } .pp-cart-standalone-text{ font-size:14px!important; font-weight:600!important; padding:0 10px!important; background-color:transparent!important } @media only screen and (max-width: 600px) {.pp-cart-standalone-text{font-size:16px!important;}} .pp-cart-pre-order-details-section{ margin:10px 15px!important; padding:20px 15px!important; font-size:13px!important; color: ${window?.preproduct?.brand_colours.dark_tint} !important; text-align: center !important; line-height: 20px !important; background: ${window?.preproduct?.brand_colours?.light_tint} !important; max-height:120px!important; overflow-y:auto!important; border-radius:7.5px!important; } .pp-cart-pre-order-details-text,.pp-cart-pre-order-details-text-bold{ font-size:13px!important; color: ${window?.preproduct?.brand_colours?.dark_tint} !important; line-height:20px!important } .pp-cart-pre-order-details-text{ font-weight:400!important } .pp-cart-pre-order-details-text-bold{ font-weight:700!important } .pp-cart-section-notes{ border:solid 1px rgb(217 217 217 / 50%)!important; border-radius:7.5px!important; padding:7px!important; margin:15px!important; display:flex!important; min-height:15px!important } .pp-cart-notes__input{ border:0!important; text-align:center!important; flex-grow:1!important; align-self:center!important; width:100%!important; max-width:100%!important; margin:0!important; min-height:15px!important; color:black!important; } .pp-cart-bottom-element{ flex:1 1 100%!important; text-align:center!important; padding:20px 0 0 0!important } .pp-cart-bottom-field-container{ flex:1 1 50%!important } .pp-cart-bottom-field{ width:100%!important; display:block!important; background-color:rgb(255,255,255,0)!important; border:0!important; border-bottom:2px solid!important; padding:10px 0!important; text-align:center!important; font-size:14px!important; font-weight:600!important; line-height:1!important; outline:0!important; border-color:#666!important; margin:0!important; border-radius:0!important; color:black!important; } @media only screen and (max-width: 600px) {.pp-cart-bottom-field{font-size:16px!important;}} .pp-cleanslate1{ background:#232323!important; border-color:#232323!important; max-height:20px!important; padding-top:.15rem!important; min-width:200px!important; flex:0 1 100%!important; display:inline!important } .pp-button-width1{ min-width:100%!important; width:100%!important; align-items:center!important; align-self:center!important; margin:0 auto!important; background:#283132!important; border-radius:5px!important; opacity:1!important; display:flex!important; justify-content:center!important; align-items:stretch!important; padding:1px!important; max-height:45px } #pp-button-width1{ margin:0 0!important } .pp-disclaimer-container{ margin:10px 0!important; position:relative!important; bottom:.5vw!important; text-align:center!important; width:100%!important } .pp-disclaimer{ font-weight:400!important; text-align:center!important; font-size:10px!important; line-height:7px!important; font-family:-apple-system,BlinkMacSystemFont,sans-serif!important; color:grey!important } input::-webkit-inner-spin-button,input::-webkit-outer-spin-button{ -webkit-appearance:none!important; margin:0!important } .pp-cart-bottom-field[type="number"] { -moz-appearance: textfield !important; }.pp-cart-bottom-field[type="number"]::placeholder { color: rgb(134 134 145) !important; font-weight: 400 !important;}\n    `,document.getElementsByTagName("head")[0].appendChild(t)},PPcustomiseHeaders:P,PPhideNameAndEmail:E,PPpotentialMasterElement:S,PPmasterElement:I,PPdiv:T,PPprimaryNativeBtn:k,PPpreorderType:C,PPsearchableArea:B,PPnativeButtonsPresent:A,PPnativeButtons:N,PPcreateNativeButtonClone:L,PPnativeButtonText:O,PPisNativeButton:q,PPpreventFormSubmit:$,PPstartingItemQuant:M,PPtoggleCart:D,PPemailIsValid:V,PPopenNav:j,PPcloseNav:H,PPupdateVariantQuantities:z,PPclearGlobalVariable:R,PPupdateTally:F,PPvariantMaxIsExceeded:Q,PPcustomerMaxIsExceeded:U,PPsyncCartTotalWording:X,PPonChange:function(t){var e=t.split("-")[2],i=document.getElementById(t),n=document.getElementById(t).value,r=document.getElementById("pp-variantbutton-tally-"+e).value;let a=Array.from(document.querySelectorAll("select.pp-select-list")).map((t=>t.value)),o=Object.keys(window.otherVariantQuantities).find((t=>!a.includes(t)&&window.otherVariantQuantities[t]==r));if(Q(n,r)){var p="pp-variantfield-"+e;document.getElementById(p).value=o}else window.otherVariantQuantities[o]&&(window.otherVariantQuantities[n]=window.otherVariantQuantities[o]),0!=o&&n!=o&&(window.otherVariantQuantities[o]=0),X(),preproduct.deposit_selling_plan_id&&K(),et(t),it(t),Array.from(i.options).forEach((t=>1==t.disabled?t.selected=!1:"")),window["PPselect"+e]=n,preproduct.new_cart&&nt(t)},PPmeansOfPayment:G,PPcurrentTotalQuantity:W,PPlocalisedTotalDepositPrice:J,PPcurrentTotalCoinage:Y,PPsyncDepositCartWording:K,PPlocaliseCoinage:Z,PPconversionRate:tt,PPnewSelect:function(){for(var t=(document.querySelector("#pp-just-selects")||document).getElementsByClassName("pp-select-list"),e=Number(t.length),i=e;Array.from(t).find((t=>t.id.split("-")[2]==i));)i+=1;if(e<(preproduct.specific_variants.length||document.getElementById("pp-variantfield-0").options.length)){var n=document.getElementById("pp-select-row-0").cloneNode(!0),r="pp-select-row-"+i;if(n.setAttribute("id",r),preproduct.new_cart)var a=n.childNodes[7].childNodes[1],o=n.childNodes[7].childNodes[3],p=n.childNodes[5].childNodes[1].childNodes[3];else{var s=n.childNodes[1].childNodes;a=s[7],o=s[3],p=s[5]}if(o.id=o.id.replace("0",i),p.id=p.id.replace("0",i),p.value="0",a.id=a.id.replace("0",i),preproduct.new_cart){var d=n.childNodes[3].childNodes[3].childNodes[1];n.children[0].children[0].id="pp-cart-line-item-image-"+i}else d=n.childNodes[1].childNodes[1];var l="pp-variantfield-0".replace(0,"")+i;d.setAttribute("id",l),Array.from(d).forEach((t=>t.disabled=!1)),document.getElementById("pp-just-selects").appendChild(n),et(l),Array.from(d.options).forEach((t=>1==t.disabled?t.selected=!1:"")),document.getElementById("pp-variantbutton-plus-"+i).style.background="none",document.getElementById("pp-variantbutton-minus-"+i).style.background="none",document.getElementById("pp-variantbutton-tally-"+i).addEventListener("input",(function(){F(0,this.id)}),!1);var c=d.options[d.selectedIndex].value;window["PPselect"+i]=c,it(l),preproduct.new_cart&&nt(`pp-variantfield-${i}`)}},PPdisableOptions:et,PPdisableOthersOption:it,PPupdateVariantImage:nt,PPcheckNewCurrentVariant:rt,PPsafeStartingVariantId:at,PPpageSelectedVariantId:g,PPareAllVariantsPaymentReady:ot,PPstoreCustomer:pt,PPupdateStoredOrders:st,PPupdatedStoredOrderQuantity:dt,PPstoredOrderQuantity:lt,PPstoredOrders:ct,PPeventPayLoad:mt,PPshowSpinners:ut,PPinnerToSpinner:ht,PPSellingPlanId:gt,PPcurrencySymbol:yt,PPisPreorderCreatedPostCheckout:ft,PPnote:function(){let t=document.getElementById("pp-field-4");return t?t.value:""},PPcustomLineItemProperties:_t,PPlineItemProperties:xt,PPcartLineItems:bt,PPpledge:vt,PPpledgeMain:wt,PPhidebuttons:Pt,PPshowPreProduct:Et,PPmightBeBuyButton:St,PPremoveItemAll:function(t,e){for(var i=0;i<t.length;)t[i]===e?t.splice(i,1):++i;return t},PPtruncateString:It,PPtotalQuantity:Tt,PPmanageHistoryState:kt,PPhandleLocationchange:Ct,PPretry:Bt,PPgetListingViaAPI:At,PPactivateMain:async()=>{let t=S();if(t){window.PPisHeadless=!!t.dataset.headless||!window.Shopify,("product"==window.meta?.page?.pageType||window.location.pathname.includes("/products/")||t.dataset.primaryNativePreOrderBtn||window.PPisHeadless)&&await At()}},PPpushToSession:r,PPredirectViaSession:a,PPsessionTotalPriceAsCoinage:o,PPsessionTotalDepositAsCoinage:p,PPaddCartSessionLinesItemsToOnPageCart:s,PPrecalculateTotalsWhenSessionUpdates:d,PPvariantIdsInCartSession:l};class Lt{constructor(t,e){this.session=t,this.manager=e,this.accumulatedButtons=[],this.requestCounter=0,this.observerActive=!0,this.debouncedLoadMore=this._debounce((()=>{this._loadMore(this.accumulatedButtons)}),510)}watch(){this.observerActive&&(this.observer=this.newObserver,this.observer.observe(document.body,{attributes:!1,childList:!0,subtree:!0}))}get newObserver(){return new MutationObserver(((t,e)=>{for(let e of t)"childList"===e.type&&e.addedNodes.forEach((t=>{1===t.nodeType&&(t.matches("[data-native-pre-order-btn]")?this.accumulatedButtons.push(t):this.accumulatedButtons.push(...t.querySelectorAll("[data-native-pre-order-btn]")))}));this.accumulatedButtons.length>0&&this.debouncedLoadMore()}))}async _loadMore(t){if(t.length>0){let e=t.map((t=>String(t.dataset.startingVariant))),i=t.filter((t=>t.hasAttribute("data-quick-pre-order"))).map((t=>String(t.dataset.id)));if(await this.session.loadMore(e,i).then((e=>{window.relevantData=e,window.newButtons=t,this.manager.convertToQuickPreOrderBtns(t,e.preproducts)})),this.accumulatedButtons=[],this.requestCounter++,setTimeout((()=>this.requestCounter--),1e3),"undefined"!=typeof process&&process.env&&"test"===process.env.NODE_ENV)return;this.requestCounter>2&&(console.warn("PreProduct: PPbuttonWatcher has been disabled either directly or automatically due to too many calls."),this.kill())}}_debounce(t,e=510){let i;return(...n)=>{clearTimeout(i),i=setTimeout((()=>{t.apply(this,n)}),e)}}kill(){this.observer.disconnect(),this.observerActive=!1}}class Ot{static get session(){return n}static convertToQuickPreOrderBtns(t,e=[]){t.forEach((t=>{let i,n=t.getAttribute("data-starting-variant"),r=t.getAttribute("data-id");if(n?i=e.find((t=>Object.keys(t.current_variant_sales).includes(n))):r&&(i=e.find((t=>String(t.platform_product_id)===String(r)))),!i)return;const a=t.hasAttribute("data-native-pre-order-btn"),o=t.dataset.startingVariant||t.dataset.id,p=t.hasAttribute("data-quick-pre-order")||n&&!this._variantBelongsToPagesMainProduct(n);a&&o&&p&&(n||(n=i.specific_variants[0]||Object.keys(i.current_variant_sales)[0]),this.convertToQuickPreOrderBtn(t,i,n))}))}static convertToQuickPreOrderBtn(t,e,i){t.setAttribute("data-pp-cloning",""),t.outerHTML=t.outerHTML,(t=document.querySelector("[data-pp-cloning]")).removeAttribute("data-pp-cloning"),t.onclick=null,null!=this._btnPreOrderText(t)&&(t.innerHTML=this._btnPreOrderText(t));let n=100*e.product?.variant_id_price[e.variant_id]||e.price;if(e.discount){let t=n/100*e.discount;n-=t}let r=e.deposit_percentage?e.deposit_percentage/100*n:e.deposit_price,a=Number(t.dataset.preOrderQuant||1);if(this._smallestLimit(e)<1)return t.disabled=!0;let o=e.different_lead_time||`${e.lead_time} ${(this.session.apiData.shop.custom_front_end||{})["shopify-line-item-shipping-days"]||"days"}`;t.addEventListener("click",(p=>{p.preventDefault(),p.stopPropagation();const s=t.closest("form");let d=i;if(s&&s.action?.includes("cart/add")){const t=s.querySelector('input[name="id"]');t?.value&&(d=t.value)}this.session.push({id:d,quantity:a,sellingPlan:this._parsedSellingPlanId(e),properties:this._lineItemProperties(e),src:e.product.variant_id_img[d],name:e.product.variant_id_name[d],unitPrice:n,unitDeposit:r,discount:e.discount,maxLimit:this._smallestLimit(e),shipDate:e.ship_date,shippingStatement:o,isQuickBuy:!0})}))}static watchForNewButtons(){this.watcher=new Lt(n,this),this.watcher.watch()}static _btnPreOrderText(t){return" "===t.dataset.nativePreOrderBtn?null:t.dataset.nativePreOrderBtn&&""!=t.dataset.nativePreOrderBtn?t.dataset.nativePreOrderBtn:"Pre-order"}static _smallestLimit(t){let e=Object.keys(t.current_variant_sales).map((e=>this._variantMaxLimit(e,t))),i=this._customerMaxLimit(t.shopify_product_id,t.customer_max_limit||99999);return Math.min(...e,i)}static _customerMaxLimit(t,e){let i=localStorage.getItem("PPcustomerOrderQuantities")||"{}";return e-(JSON.parse(i)||{})[t]||99999}static _variantMaxLimit(t,e){return(e.max_variant_sales[t]||99999)-((e.current_variant_sales||{})[t]||0)}static _parsedSellingPlanId(t){let e=t.charge_later_selling_plan_id||t.deposit_selling_plan_id||t.charge_upfront_selling_plan_id;return"number"==typeof e||(e="string"==typeof e?Number(e.replace("gid://shopify/SellingPlan/","")):null),e}static _lineItemProperties(t){let e=this.session.apiData.shop.custom_front_end||{};return{[e["shopify-line-item-shipping-key"]||"Estimated shipping"]:t.different_lead_time||`${t.lead_time} ${e["shopify-line-item-shipping-days"]||"days"}`}}static _variantBelongsToPagesMainProduct(t){return(window.meta?.product?.variants?.map((t=>Number(t.id)))||[]).includes(Number(t))}}var qt=async()=>{let t=I()?.dataset?.domain||window.Shopify?.shop||window.ppTesting?.domain||window.location.hostname,e=await n.setup(t,Array.from(document.querySelectorAll("[data-native-pre-order-btn], [data-starting-variant]")).filter((t=>t.dataset.startingVariant)).map((t=>t.getAttribute("data-starting-variant"))),Array.from(document.querySelectorAll("[data-native-pre-order-btn][data-quick-pre-order][data-id]")).filter((t=>t.dataset.id)).map((t=>t.getAttribute("data-id"))));if(!e||!e.preproducts)return;let i=e.preproducts;n.buttonManager=Ot,Ot.convertToQuickPreOrderBtns(document.querySelectorAll("[data-native-pre-order-btn], [data-starting-variant], [data-native-pre-order-btn][data-quick-pre-order][data-id]"),i),setTimeout((()=>{Ot.watchForNewButtons()}),0)};class $t{constructor(){let t=this.session.apiData?.shop?.primary_colour||"#000",e=this.session.localisedVerbage("cart-tag")||"Pre-order";this.insertElement({primaryColour:t,wording:e}),this._shouldShow&&this.show(),this.listenToPPcartSession(),this.session.dispatchCartSessionEvent(null,"ppCartTagJustLaunched")}get session(){return n}insertElement({primaryColour:t="#000",wording:e="Pre-order"}={}){let i="checkout"==this.session.apiData?.shop?.frontend_charge_redirect&&this.session.canCheckoutViaAPI?"PPcartSession.checkoutViaAPIAndClear()":"PPcartSession.redirectToCartURL()";document?.body?.insertAdjacentHTML("afterbegin",`\n            <style>\n                @keyframes cart-tag-spin {\n                    0% { transform: rotate(0deg); }\n                    100% { transform: rotate(360deg); }\n                }\n            </style>\n            \n            <button onclick="PPcartSession?.tag?.spin(); ${i};" id="pp-cart-tag" onmouseover="this.style.height='44px'" onmouseout="this.style.height='40px'" style="display:none;  position:fixed; right:0; top:10vw; transform: rotate(270deg); cursor:pointer; transform-origin: right bottom; z-index:999; padding: 12px 20px; margin: 10vh 0vh; background:${t}; background-color:${t}; border:none; align-items:center; gap:10px; transition: height 0.2s; width:max-content;">\n                <span id="pp-cart-tag-tally" style="font-size:14px; font-weight:inherit; color:#fff; margin:0; padding:0; letter-spacing:1px;">\n                    ${this.tally}x\n                </span>\n                <div id="pp-cart-tag-spinner" style="display:none; position:absolute; left:15px; mix-blend-mode:screen;">\n                    <div style="width: 25px; height: 25px; border: 3px solid rgb(40 49 50); border-radius: 50%; border-color: #fff #fff #283132 #fff; animation: cart-tag-spin 0.7s ease-in-out infinite;">\n                    </div>\n                </div>\n                <span style="font-size:14px; font-weight:inherit; color:#fff; margin:0; padding:0;">\n                    |\n                </span>\n                <span id="pp-cart-tag-wording" style="font-size:14px; font-weight:inherit; color:#fff; margin:0; padding:0; letter-spacing:0.3px;">\n                    ${e}\n                </span>\n            </button>\n        `)}show(){this.element.style.display="flex"}hide(){this.element.style.display="none"}listenToPPcartSession(){window.addEventListener("ppCartSessionLaunched",(()=>{this.syncElement()})),window.addEventListener("ppCartSessionTransactionStart",(()=>{this.spin()})),window.addEventListener("ppCartSessionTransactionFinish",(()=>{this.syncElement(),setTimeout((()=>this.spin(!1)),300)}))}syncElement(){this.tallyElement.innerText=`${this.tally}x`,this._shouldShow?this.show():this.hide()}get element(){return document.querySelector("#pp-cart-tag")}get tallyElement(){return document.querySelector("#pp-cart-tag-tally")}get elementSpinner(){return document.querySelector("#pp-cart-tag-spinner")}get tally(){return this.session.items.reduce(((t,e)=>t+e.quantity),0)}spin(t=!0){t?(this.tallyElement.style.opacity="0",this.elementSpinner.style.display="block"):(this.tallyElement.style.opacity="100",this.elementSpinner.style.display="none"),t&&setTimeout((t=>{this.spin(!1)}),4e3)}get _shouldShow(){return!window.ppNoCartTag&&(this.session.presentItems.length>0&&!window.location.pathname.includes("cart"))}}class Mt{constructor(){if(!this.shouldLoad)return!1;this.insert(),this._listenToPPcartSession(),n.dispatchCartSessionEvent(null,"ppNativeCartCTALaunched")}get shouldLoad(){return!!window.location.pathname.includes("cart")&&("isolated_preorder_cart"==n.apiData.shop.frontend_charge_redirect&&n.itemsNotAddedToNativeCart.length>0)}get session(){return n}insert(){if(this.specifiedPositionElement)this._insertIn(this.specifiedPositionElement);else if(this.bigcommerceNoticeArea)this._insertIn(this.bigcommerceNoticeArea);else{let t=this.nativeCTAElement?.parentElement?.parentElement;t&&this._insertIn(t)}}toggle(){document.querySelectorAll("#pp-native-cart-details, #pp-native-cart-toggle").forEach((t=>{t.classList.toggle("pp-native-cart-closed")}))}get nativeCTAElement(){return this.nativeContinueShoppingButton||this.nativeCheckoutButton}get nativeContinueShoppingButton(){let t=document.querySelectorAll("a, button, p, h1, h2, h3, h4, h5, h6"),e=Array.from(t).map((t=>{let e=t.textContent.trim().toLowerCase();return{element:t,score:this._probabiltyOfBeingAContinueShoppingButton(t,e)}}));return e=e.filter((t=>t.score>0)),e=e.filter((t=>!this._isElementHidden(t.element))),e.sort(((t,e)=>e.score===t.score?4&t.element.compareDocumentPosition(e.element)?-1:1:e.score-t.score)),e.length?e[0].element:null}get nativeCheckoutButton(){let t=document.querySelectorAll('[type="submit"], [type="button"]'),e=Array.from(t).map((t=>({element:t,score:this._probabiltyOfBeingTheCheckoutButton(t)})));return e.sort(((t,e)=>e.score-t.score)),e[0]&&e[0].score>10?e[0].element:null}get bigcommerceNoticeArea(){return document.querySelector("[data-cart-status]")}get specifiedPositionElement(){return document.querySelector("[data-native-cart-pre-order-cta-container]")}get ctaWording(){return this.specifiedPositionElement?.dataset?.nativeCartPreOrderCtaContainer||this.session.localisedVerbage("native-cart-cta-button")||"Checkout Pre-orders"}get noticeWording(){return this.session.localisedVerbage("native-cart-cta-notice")||"You have pre-orders to checkout"}_listenToPPcartSession(){window.addEventListener("ppCartSessionTransactionFinish",(t=>{document.querySelector("#pp-native-cart-total").innerText=n.totalPriceAsString()}))}_probabiltyOfBeingAContinueShoppingButton(t,e){let i=0;if(null!=t.closest("header"))return i;if(null!=t.closest("footer"))return i;if(!this.isElementInViewport(t))return i;const n=["your cart is empty","continue shopping","tu carrito está vacío","continuar comprando","il tuo carrello è vuoto","continua a fare acquisti","seu carrinho está vazio","continue comprando","ihr warenkorb ist leer","einkauf fortsetzen","uw winkelwagen is leeg","doorgaan met winkelen","votre panier est vide","continuer vos achats","カートは空です","買い物を続ける","您的购物车是空的","继续购物","twój koszyk jest pusty","kontynuuj zakupy"];for(let t of n)e.includes(t)&&(i+=5);return/empty/.test(e)&&(i+=2),t.getAttribute("href")?.includes("/collections")&&!t.getAttribute("href")?.includes("products")&&(i+=3),i}_probabiltyOfBeingTheCheckoutButton(t){let e=0,i=t.form;return t.innerText?.toLowerCase().includes("checkout")&&(e+=100),"checkout"===t.id?.toLowerCase()&&(e+=100),"checkout"===t.name?.toLowerCase()&&(e+=110),t.id?.toLowerCase()?.includes("checkout")&&(e+=10),t.form?.action?.toLowerCase()?.includes("checkout")&&(e+=20),i?.action?.includes("cart")&&"post"==i?.method.toLowerCase()&&(e+=20),t?.innerText?.toLowerCase().includes("pay")&&(e+=2),t?.innerText?.toLowerCase().includes("buy")&&(e+=2),t?.type?.includes("submit")&&(e+=1),t?.dataset.testId&&(e-=5),this._isElementHidden(t)&&(e-=100),e}_isElementHidden(t){return"none"===window.getComputedStyle(t).display||("hidden"===window.getComputedStyle(t).visibility||("0"===window.getComputedStyle(t).opacity||null===t.offsetParent&&"fixed"!==window.getComputedStyle(t).position))}isElementInViewport(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}spin(t=!0){let e=document.querySelector("#pp-native-cart-wording"),i=document.querySelector("#pp-native-cart-spinner");t?(e.style.display="none",i.style.display="block"):(e.style.display="inline",i.style.display="none"),t&&setTimeout((t=>{this.spin(!1)}),4e3)}_insertIn(t){t.insertAdjacentHTML("afterbegin",`\n            <style id="pp-native-cart-area-style">\n                div.pp-native-cart-area{\n                    --pp-native-cart-cta-pos: #242627;\n                    --pp-native-cart-cta-pos-tint: #24262780;\n                    --pp-native-cart-cta-neg: #f6f6f7;\n                    --pp-native-cart-cta-radius: 5px;\n                    margin: 20px 10px;\n                }\n                div.pp-native-cart-box{\n                    display: flex; \n                    justify-content: center; \n                    align-items: stretch; \n                    flex-direction: column;\n                    flex-grow: 0; \n                    flex-shrink: 0; \n                    max-width: 100%;\n                    padding: 0px 0px 30px 0px; \n                    margin: 5px 0px;\n                    border-radius: var(--pp-native-cart-cta-radius, 5px); \n                    background: var(--pp-native-cart-cta-neg, #f6f6f7);\n                    mix-blend-mode: multiply;\n                    opacity: 1;\n                }\n                button.pp-native-cart-cta {\n                    display: flex; \n                    justify-content: center; \n                    align-items: center; \n                    flex-grow: 0; \n                    flex-shrink: 0; \n                    max-width: max-content;\n                    min-width: 250px;\n                    padding: 10px 30px; \n                    margin: auto;\n                    text-align: center;\n                    text-anchor: middle;\n                    border-width: 2px;\n                    border-style: solid; \n                    border-color: var(--pp-native-cart-cta-pos-tint, #24262780);\n                    outline: none;\n                    color: var(--pp-native-cart-cta-pos, #242627);\n                    font-size: 14px;\n                    line-height: 20px;\n                    font-weight: normal;\n                    background: none !important;\n                    box-shadow: none !important;\n                    cursor: pointer;\n                    text-align: center;\n                    justify-content: center;\n                }\n\n                button.pp-native-cart-cta:hover {\n                    background: var(--pp-native-cart-cta-pos, #242627) !important;\n                    color: #f6f6f7 !important;\n                }\n                div.pp-native-cart-closed {\n                    max-height:0px !important;\n                }\n                svg.pp-native-cart-closed{\n                    transform: rotate(180deg);\n                }\n                @keyframes cart-tag-spin {\n                    0% { transform: rotate(0deg); }\n                    100% { transform: rotate(360deg); }\n                }\n            </style>\n\n\n            <div class="pp-native-cart-area">\n                <div style="display:flex; flex-direction:row; justify-content:flex-start; align-items:center; gap:5px; padding: 5px 0px;">\n                    <svg\n                        width="21"\n                        height="21"\n                        viewBox="0 0 21 21"\n                        fill="none"\n                        xmlns="http://www.w3.org/2000/svg"\n                        style="flex-grow: 0; flex-shrink: 0; width: 20px; height: 20px;"\n                        preserveAspectRatio="xMidYMid meet"\n                    >\n                        <path\n                            d="M10.5 1.5C5.5374 1.5 1.5 5.5374 1.5 10.5C1.5 15.4626 5.5374 19.5 10.5 19.5C15.4626 19.5 19.5 15.4626 19.5 10.5C19.5 5.5374 15.4626 1.5 10.5 1.5ZM10.5 17.7C6.531 17.7 3.3 14.469 3.3 10.5C3.3 6.531 6.531 3.3 10.5 3.3C14.469 3.3 17.7 6.531 17.7 10.5C17.7 14.469 14.469 17.7 10.5 17.7ZM10.5 6C10.0032 6 9.6 6.4023 9.6 6.9V10.5C9.6 10.9977 10.0032 11.4 10.5 11.4C10.9968 11.4 11.4 10.9977 11.4 10.5V6.9C11.4 6.4023 10.9968 6 10.5 6ZM10.5 13.2C10.0032 13.2 9.6 13.6023 9.6 14.1C9.6 14.5977 10.0032 15 10.5 15C10.9968 15 11.4 14.5977 11.4 14.1C11.4 13.6023 10.9968 13.2 10.5 13.2Z"\n                            fill="#868691"\n                        ></path>\n                    </svg>\n                    <p class="pp-mid-grey pp-safe" style="flex-grow:0; flex-shrink:0; font-size:14px; font-weight:500; text-align:left; margin:0px !important; padding:0px !important;">\n                        ${this.noticeWording}\n                    </p>\n                </div>\n                <div class="pp-native-cart-box">\n                    <div style="display:flex; justify-content:center; align-items:stretch; flex-direction:column; margin:auto; padding: 0px 20px; width:100%; max-width:1500px;">\n                    \n                        <div onclick="PPcartSession.nativeCartCTA.toggle();" style="height:30px; cursor:pointer; padding: 10px 10px 5px 10px; display:flex; justify-content:flex-end; align-items:center; flex-direction:row;">\n                            <div style="display:flex; justify-content:flex-end; align-items:center; gap:5px;">\n                                <span id="pp-native-cart-tally" class="pp-mid-grey pp-safe" style="text-align:right; font-size:12px; font-weight:700;">\n                                    ${n.items.reduce(((t,e)=>t+e.quantity),0)}x\n                                </span>\n                                <span class="pp-safe" style="position:relative; display:flex; justify-content:center; align-items:center; height:10px; width:10px; padding:0px;">\n                                    <svg id="pp-native-cart-toggle" class="pp-cart-ease-in" style="opacity:1;" width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path d="M1.34326 1.65674L4.46459 4.77806C4.85511 5.16859 5.48828 5.16859 5.8788 4.77806L9.00012 1.65674" stroke="#868691" stroke-width="1.5" stroke-linecap="round"/>\n                                    </svg>\n                                </span>\n                            </div>\n                        </div>\n                        \n                        <div id="pp-native-cart-details" class="pp-cart-ease-in" style="opacity:1; max-height:700px; overflow:hidden; padding:0px;">\n                            ${this._shippingNotice}\n                            \n                            <div class="pp-cart-divider" style="display:block; padding-top:20px;"></div> \n\n                            ${n.asHTML()}\n                            \n                            <div class="pp-cart-divider-section" style="opacity:1; margin: 20px 0px 30px 0px !important;"> \n                                <div class="pp-cart-divider" style="display:block;"></div> \n                                <div class="pp-cart-standalone-text pp-mid-grey pp-safe"> \n                                    Total: \n                                    <span class="pp-dark-grey"> \n                                        <span id="pp-native-cart-total">\n                                            ${n.totalPriceAsString()}\n                                        </span>\n                                    </span> \n                                </div> \n                                <div class="pp-cart-divider" style="display:block;"></div> \n                            </div>\n                        </div>\n\n                    </div>\n                    <button onclick="PPcartSession.nativeCartCTA.spin(); PPcartSession.checkoutViaAPIAndClear()" class="pp-native-cart-cta" aria-label="Checkout Pre-orders" style="height:44px;">\n                        <span id="pp-native-cart-wording">\n                            ${this.ctaWording}\n                        </span>\n                        <div id="pp-native-cart-spinner" style="display:none;">\n                            <div style="width: 25px; height: 25px; border: 3px solid rgb(40 49 50); border-radius: 50%; border-color: #e0e0e0 #e0e0e0 #283132 #e0e0e0; animation: cart-tag-spin 0.7s ease-in-out infinite;">\n                            </div>\n                        </div>\n                    </button>\n                </div>\n            </div>\n        `)}get _shippingNotice(){if(" "==this.session.localisedVerbage("native-cart-cta-shipping-prefix"))return"";let t="#283132";return`\n            <div class="pp-safe" style="background:#e6e5e585; display:flex; justify-content:center; align-items:center; align-self:stretch; flex-shrink:0; gap:3px; padding:5px; margin: 10px 0px 0px 0px; border-radius:var(--pp-native-cart-cta-radius, 5px);">\n                <p class="pp-safe" style="flex-grow:0; flex-shrink:0; font-size:12px; font-weight:400; color:${t}; margin:0px; padding:0px; flex-basis:fit-content;">\n                   ${this.session.localisedVerbage("native-cart-cta-shipping-prefix")||"We expect to ship in"}\n                </p>\n                <p class="pp-safe" style="flex-grow:0; flex-shrink:0; font-size:12px; font-weight:700; color:${t}; margin:0px; padding:0px; flex-basis:fit-content;">\n                    ${this.session.itemFurthestAwayFromShipping.shippingStatement}\n                </p>\n            </div>\n        `}}class Dt{constructor(t,e=300){if(void 0===t)throw new Error("targetElement is required");this.targetElement=t,this.debounceDelay=e,this.observer=null,this.debounceTimer=null,this.rateLimitCounter=0,this.rateLimit=2}debounce(t){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(t,this.debounceDelay)}onMutation(t){t.forEach((t=>{"attributes"!==t.type||"data-id"!==t.attributeName&&"data-starting-variant"!==t.attributeName||(console.log("PreProduct Snippet Watcher: Master element data-attribute changed"),this.debounce((()=>{console.log("PreProduct Snippet Watcher: retrying"),this.rateLimitCounter++,window.PPretry()})))})),this.rateLimitCounter>this.rateLimit&&this.kill(),setTimeout((()=>this.rateLimitCounter--),1e3)}observe(){this.observer=new MutationObserver(this.onMutation.bind(this)),this.observer.observe(this.targetElement,{attributes:!0,attributeFilter:["data-id","data-starting-variant"]})}kill(){this.observer&&this.observer.disconnect(),console.warn("PreProduct Snippet Watcher: has been disabled due to excessive mutation calls.")}}class Vt{RATE_LIMIT=4;DEBOUNCE_DELAY=400;constructor(){this.observer=null,this.debounceTimer=null,this.rateLimitCounter=0,this.masterElement=I()}onMutation(t){this.masterElement!=I()&&(this.rateLimitCounter++,console.log("PreProduct Page Watcher: Master element has changed"),"SET_NEXT_MASTER_WITHOUT_RETRY"==this.masterElement?this.masterElement=I():(this.masterElement||I())&&this._debounce((()=>{this.masterElement="SET_NEXT_MASTER_WITHOUT_RETRY",this.isSameShopifyProductPage()?(console.log("PreProduct Page Watcher: retrying for same Shopify product"),Bt(!1)):(console.log("PreProduct Page Watcher: retrying for new product"),Bt(!0))}))),this.rateLimitCounter>this.RATE_LIMIT&&this.kill(),setTimeout((()=>this.rateLimitCounter--),1e3)}observe(){this.observer=new MutationObserver(this.onMutation.bind(this)),this.observer.observe(document.documentElement||document.body,{childList:!0,subtree:!0})}kill(){this.observer&&(this.observer.disconnect(),window.ppPageObserver=null),console.warn("PreProduct Page Watcher: has been disabled due to excessive mutation calls.")}_debounce(t){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(t,this.DEBOUNCE_DELAY)}isSameShopifyProductPage(){let t="product"==window.meta?.page?.pageType,e=window.meta?.product?.id==window.preproduct?.shopify_product_id;return t&&e}}class jt{ELIGIBLE_SHOP_ADOPTION_DATE="2024-01-01";static newIfEligible(t){if(!this.allowed(t||{}))return!1;if(!this._firstVariantId&&!this._bigCommerceProductID)return!1;if(this.existingNativeButtonOrSnippet)return!1;return(new this).btn||!1}static allowed(t){return!(new Date(t.created_at)<=new Date(this.ELIGIBLE_SHOP_ADOPTION_DATE)&&!window.ppAutoNativeButton)&&(void 0===window.meta||"product"===window.meta?.page?.pageType)}static get existingNativeButtonOrSnippet(){return Array.from(document.querySelectorAll("[data-native-pre-order-btn], #preproduct-pledge")).find((t=>!t.hasAttribute("data-quick-pre-order")))}static get _firstVariantId(){return window.meta?.product?.variants[0]?.id}static get _bigCommerceProductID(){let t=document.querySelector('form[action*="cart.php"]');return t?.querySelector('input[name="product_id"]')?.value}constructor(){!this.btn||this.addTags(this.btn)}get btn(){return this._btn||(this._btn=this._getBtn())}addTags(t){return!(!jt._firstVariantId&&!jt._bigCommerceProductID)&&(t.setAttribute("data-native-pre-order-btn",""),jt._firstVariantId?t.setAttribute("data-starting-variant",jt._firstVariantId):jt._bigCommerceProductID&&t.setAttribute("data-id",jt._bigCommerceProductID),t)}_getBtn(){return this.foundBtn=!1,Array.from(document.querySelectorAll('[action*="cart/add"], [action="/cart/add"], [action*="cart.php"]')).forEach((t=>{if(t.closest("header"))return;let e=t.querySelector('[type="submit"]');e&&!this.foundBtn&&(this.foundBtn=e)})),this.foundBtn}}class Ht{static newIfEligible(){if(!this.allowed())return!1;return(new this).tagEligibleButtons(),!0}static allowed(){if(void 0===window.meta)return!1;return["collection","search","searchresults","home"].includes(window.meta?.page?.pageType)}constructor(){this.quickbuyForms=this._getQuickbuyForms()}tagEligibleButtons(){this.quickbuyForms.forEach((t=>{const e=t.querySelector('input[name="id"]'),i=t.querySelector('button[type="submit"], input[type="submit"]');e&&i&&(i.hasAttribute("data-native-pre-order-btn")||(i.setAttribute("data-native-pre-order-btn",this._quickbuyWording(i)),i.setAttribute("data-starting-variant",e.value),i.setAttribute("data-quick-pre-order","")))}))}_quickbuyWording(t){if(!t)return"";const e="INPUT"===t.tagName?t.value:t.textContent?.trim();return e?1===e.length?e:"":" "}_getQuickbuyForms(){return Array.from(document.querySelectorAll('[action*="cart/add"], [action="/cart/add"]')).filter((t=>{const e=t.querySelector('input[name="id"]');return e&&e.value}))}}window.addEventListener("ppCartSessionLaunched",(()=>{PPloadStyle()}),{once:!0}),window.addEventListener("ppJustLaunched",(()=>{PPloadStyle()}),{once:!0}),Object.keys(Nt).forEach((t=>{window[t]=Nt[t]}));(class{static HEADERS={Accept:"application/json",credentials:"same-origin"};static CARTS_ENDPOINT="/api/storefront/carts";static redirectIfEligible(){this._validParams&&this.generateCart()}static async lineItems(){if(this._lineItems)return this._lineItems;const t=this._validParams?.idsQuantity;return t?(this._lineItems=Object.entries(t).map((([t,e])=>({quantity:parseInt(e),productId:t.split("/")[0],variantId:t.split("/")[1]}))),this._lineItems):[]}static get _validParams(){const t=new URLSearchParams(window.location.search);if(!t.has("dynamic_payment_link"))return!1;const e={idsQuantity:{}};for(let[i,n]of t.entries()){if("dynamic_payment_link"===i)continue;if(!i.startsWith("updates["))continue;let[t,r,a]=i.slice(8,-1).split("/");e.idsQuantity[`${t}/${r}`]=a||n}return e}static async getCurrentCartId(){const t=await this.cartRequest("GET",this.CARTS_ENDPOINT);return t&&t.length>0?t[0].id:null}static async generateCart(){try{const t=await this.getCurrentCartId();if(t)await this.updateExistingCart(t);else{let t=await this.createCart(!0);if(!t||t.error)throw new Error(t.error)}}catch(t){const e=await this.getCurrentCartId();e&&await this.deleteCart(e),await this.createCart(!1)}window.location.href=window.PP_BIGCOMMERCE_NATIVE_CART_LOCATION}static async updateExistingCart(t){const e={line_items:await this.lineItems()};return await this.cartRequest("POST",`${this.CARTS_ENDPOINT}/${t}/items`,e,!0)}static async deleteCart(t){await this.cartRequest("DELETE",`${this.CARTS_ENDPOINT}/${t}`)}static async createCart(t=!0){const e={lineItems:await this.lineItems()};let i=await this.cartRequest("POST",this.CARTS_ENDPOINT,e,!t);return!t&&i?.error&&alert(`Error creating cart: ${i.error}`),i}static async cartRequest(t,e,i,n=!1){try{const r=await fetch(e,{method:t,headers:this.HEADERS,body:i?JSON.stringify(i):null});if(r&&r.ok)return r.json();{const t=await r.json();if(n)return{error:`${t.title} ${t.detail}`};throw new Error(`${t.title} ${t.detail}`)}}catch(i){return console.error(`Error in ${t} request to ${e}:`,i),null}}}).redirectIfEligible(),window.PPcartSession=n,window.PPactivateCartSession=qt,(async()=>{var t;await PPactivateMain(),Ht.newIfEligible(),await qt(),n.tag=new $t,n.nativeCartCTA=new Mt,jt.newIfEligible(n.apiData.shop)&&await PPactivateMain(),PPmasterElement()&&(t=PPmasterElement(),window.ppObserver||(window.ppObserver=new Dt(t),window.ppObserver.observe()))})(),setTimeout((()=>{window.ppPageObserver||(window.ppPageObserver=new Vt,window.ppPageObserver.observe())}),1500)}();
